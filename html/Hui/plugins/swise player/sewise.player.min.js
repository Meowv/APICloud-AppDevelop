/*
 * Name: SewisePlayer framework 3.2.0
 * Author: keyun
 * Website: http://player.sewise.com
 * Date: October 26, 2015
 * Copyright: 2013-2016, Sewise
 * Mail: keyun@sewise.com
 * QQ: 
 * 
 */

!function(a){a.Sewise=a.Sewise||{name:"Sewise Player",version:"3.0.0",build:"2016.2.1 19:00"},a.SewisePlayerSkin=a.SewisePlayerSkin||{}}(window),function(){Sewise.Utils={jsonp:function(a){var b=a.url,c=a.jsonp,d=a.jsonpCallback,e=a.data,f=a.success,g="";for(var h in e)g+="&"+h+"="+e[h];g="?"+g.slice(1),void 0===c&&(c="callback"),void 0===d&&(d="callbackFun"+(new Date).getTime());var i="&"+c+"="+d,j=b+g+i,k=document.createElement("script");k.setAttribute("type","text/javascript"),k.src=j,document.body.appendChild(k),window[d]=f,k.onload=k.onreadystatechange=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||document.body.removeChild(k)}},getScript:function(a){var b=a.url,c=a.data,d=a.success,e="";for(var f in c)e+="&"+f+"="+c[f];e="?"+e.slice(1);var g=b+e,h=document.createElement("script");h.setAttribute("type","text/javascript"),h.src=g,document.body.appendChild(h),h.onload=h.onreadystatechange=function(){d(),this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||document.body.removeChild(h)}},getParameters:function(a){var b,c,d=document.getElementsByTagName("script");try{for(var e=d.length,f=0;e>f;f++){var g=d[f].src.split("#"),h=g[0],i=h.split("/");if(h=1==i.length?i[0]:i[i.length-1],h==a[0]||h==a[1]){if(b=g.length>1?g[1].split("&"):[],c=d[f],h==a[0]||h==a[1]){var j=g[0].lastIndexOf("/");j>0&&(Sewise.localPath=g[0].slice(0,j+1))}break}}for(var k,l,m,n={},o=0,p=b.length;p>o;o++)k=b[o].split("="),l=k[0],m=k[1],"undefined"==typeof n[l]?n[l]=m:"string"==typeof n[l]?(n[l]=[n[l]],n[l].push(m)):n[l].push(m);return n.scriptElement=c,n}catch(q){return[]}},parseURL:function(a){var b,c={protocol:/([^\/]+:)\/\/(.*)/i,host:/(^[^\:\/]+)((?:\/|:|$)?.*)/,port:/\:?([^\/]*)(\/?.*)/,pathname:/([^\?#]+)(\??[^#]*)(#?.*)/},d={};d.href=a;for(var e in c)b=c[e].exec(a),b&&(d[e]=b[1],a=b[2],""===a&&(a="/"),"pathname"===e&&(d.pathname=b[1],d.search=b[2],d.hash=b[3]));return d.segments=d.pathname.split("/"),d},object:{isEmpty:function(a){for(var b in a)return!1;return!0},paramsLength:function(a){var b=0;for(var c in a)b++;return b}},browser:{versions:function(){var a=navigator.userAgent,b=(navigator.appVersion,navigator.userAgent.toLowerCase());return{trident:a.indexOf("Trident")>-1,presto:a.indexOf("Presto")>-1,webKit:a.indexOf("AppleWebKit")>-1,gecko:a.indexOf("Gecko")>-1&&-1==a.indexOf("KHTML"),mobile:!!a.match(/AppleWebKit.*Mobile.*/),ios:!!a.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:a.indexOf("Android")>-1,iPhone:a.indexOf("iPhone")>-1,iPad:a.indexOf("iPad")>-1,webApp:-1==a.indexOf("Safari"),safari:b.match(/version\/([\d.]+).*safari/)?!0:!1}}(),supportH5:function(){var a=!1;return navigator.geolocation&&(a=!0),a}(),supportFlash:function(){if(navigator.mimeTypes.length>0){var a=navigator.mimeTypes["application/x-shockwave-flash"];return void 0!==a?void 0!==a.enabledPlugin:!1}if(self.ActiveXObject)try{return new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),!0}catch(b){return!1}}(),supportHls:function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')}(),language:(navigator.browserLanguage||navigator.language).toLowerCase(),ieVersionNumber:function(){/MSIE\s*(\d+)/i.test(navigator.userAgent);var a=parseInt(RegExp.$1?RegExp.$1:0);return a}()},location:{hostname:function(a){if(a){var b=document.createElement("a");return b.href=a,b.hostname}return window.location.hostname},port:function(a){if(a){var b=document.createElement("a");return b.href=a,b.port}return window.location.port},porthost:function(a){var b,c;if(a){var d=document.createElement("a");d.href=a,b=d.hostname,c=d.port}else b=window.location.hostname,c=window.location.port;var e=b;return c&&"0"!==c&&""!==c&&(e=b+":"+c),e}},loader:{loadCssFile:function(a,b,c){function d(a){for(var b=/js$/i.test(a),c=document.getElementsByTagName(b?"script":"link"),d=0;d<c.length;d++)if(-1!=c[d][b?"src":"href"].indexOf(a))return!0;return!1}function e(a,b){function c(){a.detachEvent("onload",c),b()}a.attachEvent?a.attachEvent("onload",c):setTimeout(function(){f(a,b)},0)}function f(a,b){if(!b.isCalled){var c=!1;if(/webkit/i.test(navigator.userAgent))a.sheet&&(c=!0);else if(a.sheet)try{a.sheet.cssRules&&(c=!0)}catch(d){1e3===d.code&&(c=!0)}c?setTimeout(function(){b()},1):setTimeout(function(){f(a,b)},1)}}if(d(a))b&&b();else{var g=document.createElement("link");g.rel="stylesheet",g.type="text/css",g.href=a,b&&e(g,b),c&&(g.onerror=function(){c()}),document.getElementsByTagName("head")[0].appendChild(g)}},loadJsFile:function(a,b,c,d,e){var f=document.getElementsByTagName("head")[0],g=null;!a&&!e||"override"==a?(g=document.createElement("script"),g.type="text/javascript",g.charset="utf-8",g.src=b,c&&(g.onload=g.onreadystatechange=function(){return g.ready?!1:void(g.readyState&&"loaded"!=g.readyState&&"complete"!=g.readyState||(g.ready=!0,c()))}),d&&(g.onerror=function(){d()}),f.appendChild(g)):c&&c()}}}}(),function(a){a.ContextMenu=function(a,b){a.oncontextmenu=function(c){c.preventDefault?c.preventDefault():c.returnValue=!1;var d=document.createElement("div");d.innerHTML='<ul class="sewise_player_contextmenu_items"><li>'+b.playerName+"</li><li>"+b.playerVersion+"</li><li>"+b.buildDate+"</li><li>--------------------------------------------------</li><li>"+b.copyright+"</li></ul>",d.style.position="absolute",d.style.width="300px",d.style.background="#eee",d.style.border="1px solid #ccc",d.style.boxShadow="3px 3px 3px rgba(0, 0, 0, 0.3)",d.style.left=c.clientX-a.getBoundingClientRect().left+"px",d.style.top=c.clientY-a.getBoundingClientRect().top+"px",d.style.zIndex=10,a.appendChild(d);var e=document.createElement("style");e.innerHTML='ul.sewise_player_contextmenu_items {margin:0; padding:0; }ul.sewise_player_contextmenu_items li {list-style: none; padding: 5px 20px; cursor: default; font-family: "MS Sans Serif", Geneva, sans-serif; font-size: 10px; }ul.sewise_player_contextmenu_items li:hover {background: #888; color: #fff; }',a.appendChild(e),document.onmousedown=function(c){c.target.textContent==b.playerName&&window.open("http://player.sewise.com/","_blank"),d&&(a.removeChild(d),a.removeChild(e),d=null,e=null)}}}}(window.Sewise),function(a){a.Sewise.localPath+"js/jquery.min.js"}(window),function(a){a.SkinUtils={stringer:{time2FigFill:function(a){var b;return a=Math.floor(a),b=10>a?"0"+a:String(a)},secondsToHMS:function(a){if(!(0>a)){var b=this.time2FigFill(Math.floor(a/3600)),c=this.time2FigFill(a/60%60),d=this.time2FigFill(a%60);return b+":"+c+":"+d}},secondsToMS:function(a){if(!(0>a)){var b=this.time2FigFill(a/60),c=this.time2FigFill(a%60);return b+":"+c}},dateToTimeString:function(a){var b;b=a?a:new Date;var c=b.getFullYear(),d=b.getMonth()+1,e=b.getDate(),f=this.time2FigFill(b.getHours()),g=this.time2FigFill(b.getMinutes()),h=this.time2FigFill(b.getSeconds());return c+"-"+d+"-"+e+" "+f+":"+g+":"+h},dateToTimeStr14:function(a){var b=a.getFullYear(),c=this.time2FigFill(a.getMonth()+1),d=this.time2FigFill(a.getDate()),e=this.time2FigFill(a.getHours()),f=this.time2FigFill(a.getMinutes()),g=this.time2FigFill(a.getSeconds());return b+c+d+e+f+g},dateToStrHMS:function(a){var b=this.time2FigFill(a.getHours()),c=this.time2FigFill(a.getMinutes()),d=this.time2FigFill(a.getSeconds());return b+":"+c+":"+d},dateToYMD:function(a){var b=a.getFullYear(),c=this.time2FigFill(a.getMonth()+1),d=this.time2FigFill(a.getUTCDate());return b+"-"+c+"-"+d},hmsToDate:function(a){var b=a.split(":"),c=b[0]?b[0]:0,d=b[1]?b[1]:0,e=b[2]?b[2]:0,f=new Date;return f.setHours(c,d,e),f},hmsToSeconds:function(a){var b=a.split(":"),c=b[0]?parseInt(b[0]):0,d=b[1]?parseInt(b[1]):0,e=b[2]?parseInt(b[2]):0,f=3600*c+60*d+e;return f},timeStr14ToDate:function(a){var b=a.substring(0,4),c=a.substring(4,6),d=a.substring(6,8),e=a.substring(8,10),f=a.substring(10,12),g=a.substring(12,14),h=new Date(b,c-1,d,e,f,g);return h}},language:{zh_cn:{stop:"停止播放",pause:"暂停",play:"播放",fullScreen:"全屏",normalScreen:"恢复",soundOn:"打开声音",soundOff:"关闭声音",clarity:"清晰度",titleTip:" ",claritySetting:"清晰度设置",clarityOk:"确定",clarityCancel:"取消",backToLive:"回到直播",loading:"缓冲",subtitles:"字幕","default":"默认",urlError:"无效的视频地址"},en_us:{stop:"Stop",pause:"Pause",play:"Play",fullScreen:"Full Screen",normalScreen:"Normal Screen",soundOn:"Sound On",soundOff:"Sound Off",clarity:"Clarity",titleTip:" ",claritySetting:"Definition Setting",clarityOk:"OK",clarityCancel:"Cancel",backToLive:"Back To Live",loading:"Loading",subtitles:"Subtitles","default":"Default",urlError:"invalid video url"},lang:{},init:function(a){switch(a){case"en_US":this.lang=this.en_us;break;case"zh_CN":this.lang=this.zh_cn;break;default:this.lang=this.zh_cn}},getString:function(a){return this.lang[a]}},browser:{isXiaoMiBrowser:function(){var a=navigator.userAgent;return a.indexOf("MiuiBrowser")>=0?!0:!1},isHuaweiBrowser:function(){var a=navigator.userAgent.toLowerCase();return a.indexOf("huawei")>=0?!0:!1},versions:function(){{var a=navigator.userAgent;navigator.appVersion}return{trident:a.indexOf("Trident")>-1,presto:a.indexOf("Presto")>-1,webKit:a.indexOf("AppleWebKit")>-1,gecko:a.indexOf("Gecko")>-1&&-1==a.indexOf("KHTML"),mobile:!!a.match(/AppleWebKit.*Mobile.*/),ios:!!a.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:a.indexOf("Android")>-1||a.indexOf("Linux")>-1,iPhone:a.indexOf("iPhone")>-1,iPad:a.indexOf("iPad")>-1,webApp:-1==a.indexOf("Safari")}}()}}}(window.Sewise),function(a){a.GlobalConstant={FLASH:"flash",HTML5:"html5",VOD:"vod",LIVE:"live",AUDIO:"audio",VIDEO:"video",FLV:"flv",MP4:"mp4",RTMP:"rtmp",HTTP:"http",M3U8:"m3u8",MP3:"mp3",OGG:"ogg",PLAYER_NAME:a.name,PLAYER_COPYRIGHT:"(C) All right reserved the SEWISE inc 2015-2016",PLAYER_VERSION:"Version: "+a.version,BUILD_DATE:"Build: "+a.build,SKIN_TYPE_TANGERINE:"tangerine"}}(window.Sewise),function(a){a.GlobalVars=function(){this.clarities=[]}}(window.Sewise),function(a){a.Log={trace:!0,logPrefix:"(SewisePlayer)",log:function(){if(this.trace&&"undefined"!=typeof console){var a=makeArray(arguments);return this.logPrefix&&a.unshift(this.logPrefix),console.log.apply(console,a),this}}}}(window.Sewise),function(a){a.Event={on:function(a,b){this.eventListeners||(this.eventListeners={});this.eventListeners[a]||(this.eventListeners[a]=[]),this.eventListeners[a].push(b)},off:function(a,b){if(!this.eventListeners)return!1;if(!this.eventListeners[a])return!1;var c=this.eventListeners[a]||[],d=c.indexOf(b);d>=0&&c.splice(d,1)},fireEvent:function(a,b){if(!this.eventListeners)return!1;if(!this.eventListeners[a])return!1;var c=this.eventListeners[a]||[];$(c).each(function(a,c){c(b)})},clearAllRegisterEvents:function(){if(!this.eventListeners)return!1;var a;for(var b in this.eventListeners)this.eventListeners[b]&&(a=this.eventListeners[b],a.splice(0,a.length))}}}(window.Sewise),function(a){a.SewisePlayerEvent={PARAMS_READY:"paramsReady",PLAYER_READY:"playerReady",PLAYER_SKIN_LOADED:"player_skin_loaded",PLAYER_SKIN_LOADED_ERROR:"player_skin_loaded_error",STREAMS_DATA_READY:"streams_data_ready",STREAMS_DATA_FAILED:"streams_data_failed",GET_VOD_STREAMS:"get_vod_streams",GET_LIVE_STREAMS:"get_live_streams",GET_SHIFT_STREAMS:"get_shift_streams",PLAY_VIDEO:"play_video",PLAY_NEXT:"playNext",PLAY_START:"start",PLAY_PAUSE:"pause",PLAY_ENDED:"ended",PlAY_STOP:"stop",DURATION_CHANGE:"durationChange",TIME_UPDATE:"timeupdate",LOAD_PROGRESS:"loadProgress",BUFFER_PROGRESS:"bufferProgress",METADATA:"metadata",SEEK:"seek",LOAD_OPEN:"bufferBegin",LOAD_COMPLETE:"bufferComplete",BEFORE_PLAY:"beforePlay",SHARE_VIDEO:"shareVideo",UPDATE_VIDEO_URL:"updateVideoUrl",CONTROLBAR_SHOW_SATE:"controlbarShowState",FLASH_HLS_EVENTS:"hlsEvents",FULLSCREEN:"fullScreen",CANCEL_FULLSCREEN:"cancelFullScreen",SKIN_SHOWSTATE_CHANGE:"skinShowStateChange",FULLSCREEN_BTN_CLICK:"fullScreenBtnClick",NORMALSCREEN_BTN_CLICK:"normalScreenBtnClick"}}(window.Sewise),function(a,b){var c=a.Sewise.FlashVideo=function(a,b,d){this.instanceID=null,this.flashPlayer=null,this._duration=0,this.currentPlayTime=0,this.instanceID="flash_"+b,this.videoUrl="",this.isLive=a,this.type="",this.subWindow=null,this.ieVersion=0,this.mediaType=d;var e=this.instanceID;c.flashInstances[e]=this};b.extend(c,{flashInstances:{}}),c.fn=c.prototype,a.playerReady=function(a){var b=c.flashInstances[a];b&&(b.flashReady(),b.fireEvent("flash_playerReady"))},a.onStart=function(a){var b=c.flashInstances[a];b&&b.fireEvent("play")},a.onBeforePlay=function(a){var b=c.flashInstances[a];b&&b.fireEvent("beforePlay")},a.onStop=function(a){var b=c.flashInstances[a];b&&b.fireEvent("ended")},a.onMetadata=function(a,b){var d=c.flashInstances[b];if(d){var e=JSON.parse(a);e.duration&&parseFloat(e.duration)>0&&(d._duration=e.duration),d.fireEvent("durationchange"),d.fireEvent("loadedmetadata",e)}},a.onClarity=function(){},a.onPause=function(a){var b=c.flashInstances[a];b&&b.fireEvent("pause")},a.onSeek=function(a,b){var d=c.flashInstances[b];d&&d.fireEvent("seeking",a)},a.onPlayTime=function(a,b){var d=c.flashInstances[b];d&&(d.currentPlayTime=a,d.fireEvent("timeupdate"))},a.onBuffer=function(a,b){var d=c.flashInstances[b];d&&d.fireEvent("bufferprogress",a)},a.onBufferEmpty=function(a){var b=c.flashInstances[a];b&&b.fireEvent("seeking")},a.onBufferFull=function(a){var b=c.flashInstances[a];b&&b.fireEvent("seeked")},a.onLoadProgress=function(a,b){var d=c.flashInstances[b];d&&d.fireEvent("progress",a)},a.onFlashStageClick=function(a){var b=c.flashInstances[a];b&&b.fireEvent("singleClick")},a.onFlashDoubleClick=function(a){var b=c.flashInstances[a];b&&b.fireEvent("doubleClick")},a.flashlsCallback=function(a,b,d){var e=c.flashInstances[d];if(e){var f={eventName:a,data:b};e.fireEvent("hlsEvents",f)}},a.onSkinShowState=function(a,b){var d=c.flashInstances[b];d&&d.fireEvent("skinStateChange",a)},c.fn.handleIframeFlashCall=function(){var b=this.subWindow;b.onPlayTime=function(b,c){a.onPlayTime(b,c)},b.playerReady=function(b){a.playerReady(b)},b.onBeforePlay=function(b){a.onBeforePlay(b)},b.onStart=function(b){a.onStart(b)},b.onStop=function(b){a.onStop(b)},b.onMetadata=function(b,c){a.onMetadata(b,c)},b.onPause=function(b){a.onPause(b)},b.onSeek=function(b,c){a.onSeek(b,c)},b.onBuffer=function(b,c){a.onBuffer(b,c)},b.onBufferEmpty=function(b){a.onBufferEmpty(b)},b.onBufferFull=function(b){a.onBufferFull(b)},b.onLoadProgress=function(b,c){a.onLoadProgress(b,c)},b.onFlashStageClick=function(b){a.onFlashStageClick(b)},b.onFlashDoubleClick=function(b){a.onFlashDoubleClick(b)},b.onClarity=function(){},b.flashlsCallback=function(b,c,d){a.flashlsCallback(b,c,d)},b.onSkinShowState=function(b,c){a.onSkinShowState(b,c)}},a.Sewise.Event.addEventListener=a.Sewise.Event.on,a.Sewise.Event.removeEventListener=a.Sewise.Event.off,b.extend(c.prototype,a.Sewise.Event,{play:function(){this.flashPlayer&&this.flashPlayer.doPlay()},stop:function(){this.flashPlayer&&this.flashPlayer.doStop()},pause:function(){this.flashPlayer&&this.flashPlayer.doPause()},seek:function(a){this.flashPlayer&&this.flashPlayer.doSeek(a)},live:function(){this.flashPlayer&&this.flashPlayer.doLive()},liveTime:function(){if(this.flashPlayer){var a;return a=this.flashPlayer.liveTime()}},setDuration:function(a){this.flashPlayer&&this.flashPlayer.setDuration(a)},refreshTimeSpan:function(a,b,c,d){this.flashPlayer&&this.flashPlayer.refreshTimeSpan(a,b,c,d)},playProgram:function(a,b,c){this.flashPlayer&&this.flashPlayer.playProgram(a,b,c)},playChannel:function(a,b,c,d){this.flashPlayer&&this.flashPlayer.playChannel(a,b,c,d)},toPlay:function(a,b,c,d){this.flashPlayer&&this.flashPlayer.toPlay(a,b,c,d)},flashReady:function(){},renderTo:function(c,d){function e(){swfobject.embedSWF(h,o,"100%","100%","9.0.115",!1,c,i,j,function(){l.flashPlayer=document.getElementById(l.instanceID)})}function f(a,c){var d=g(a),e='<object name="'+j.name+'" width="100%" height="100%"  style="margin:0 0 0 0" id="'+j.id+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"><param name="allowfullscreen" value="false"/><param name="wmode" value="transparent"/><param name="allowScriptAccess" value="always"/><param name="flashvars" value="'+d+'"/><param name="movie" value="'+h+'"/></object>',f=document.createElement("iframe");if(f.frameBorder=0,f.marginHeight=0,f.marginWidth=0,f.scrolling="no",f.style.width="100%",f.style.height="100%",c.append(f),f.contentWindow.document.write(e),f.contentWindow.document.body.style.backgroundColor="#000000",l.subWindow=f.contentWindow,l.flashPlayer=f.contentDocument.getElementById(j.id),l.handleIframeFlashCall(),l.ieVersion>0&&l.ieVersion<=10){var i=b(f).height()+"px";b(l.flashPlayer).css("height",i),b(f).bind("sewiseIframeResize",function(){var a=b(f).height()+"px";b(l.flashPlayer).css("height",a)})}}function g(a){var b;for(var c in a)"undefined"!=typeof b?b+="&"+c+"="+a[c]:b=c+"="+a[c];return b}var h,i={allowfullscreen:!1,wmode:"transparent",allowscriptaccess:"always"},j={id:this.instanceID,name:this.instanceID},k=c.swfPath;h=k?this.mediaType==a.Sewise.GlobalConstant.AUDIO?k+"flash/AudioPlayer.swf":k+"flash/SewisePlayer.swf":this.mediaType==a.Sewise.GlobalConstant.AUDIO?a.Sewise.localPath+"flash/AudioPlayer.swf":a.Sewise.localPath+"flash/SewisePlayer.swf";var l=this;this._duration=c.duration,this.type=c.type;var m=a.Sewise.Utils.browser.ieVersionNumber;if(m>0&&10>=m)this.ieVersion=m,f(c,d);else{var n=document.createElement("div"),o="swfBox"+this.instanceID;n.id=o,d.append(n);var p=a.Sewise.localPath+"js/swfobject.js";a.Sewise.Utils.loader.loadJsFile(a.swfobject,p,e)}}}),c.fn.setVolume=function(a){this.flashPlayer&&this.flashPlayer.setVolume(a)},c.fn.muted=function(a){this.flashPlayer&&(a?this.flashPlayer.setVolume(0):this.flashPlayer.recoverVolume())},c.fn.getCurrentTime=function(){return this.currentPlayTime},c.fn.setCurrentTime=function(a){this.currentPlayTime=a,this.flashPlayer&&this.flashPlayer.doSeek(a)},c.fn.getDuration=function(){return this._duration},c.fn.src=function(a){return a?(this.videoUrl=a,void(this.flashPlayer&&this.fireEvent("canplay"))):this.videoUrl}}(window,window.jQuery),function(a,b){var c=a.PlayController=function(b,c,d){this.sewisePlayer=d,this.globalParam=b,this.isLive=b.server==a.GlobalConstant.LIVE?!0:!1,this.playVars=this.globalParam.getPlayVars(),this.playerType=this.globalParam.playerType,this.sewiseVideo=null,this.skinController=null,this.videoContainer=null,this.playerID=c,this.globalVars=new a.GlobalVars,this.isUpateProgramID=!1,this.livePlayTime=null,this.serverTime=null,this.startMilliTime=0,this.timeZoneOffsetTime=0,this.intervalID=null,this.timeOff=0,this.backToLive=!1,this.isLockScreen=!1,this.isSeeking=!1,this.isHtml5=this.playerType==a.GlobalConstant.HTML5?!0:!1,this.globalParam.mediaType==a.GlobalConstant.AUDIO?(this.isVideo=!1,this.sewiseVideo=new a.SewiseAudio(this.playerType,c)):(this.isVideo=!0,this.sewiseVideo=new a.SewiseVideo(this.playerType,this.isLive,c))};c.fn=c.prototype,b.extend(c.fn,a.Event),c.fn.startup=function(c,d){this.videoContainer=c;var e=new a.PlayerSkinLoader(d,this.playVars.skin);if(e.on(a.SewisePlayerEvent.PLAYER_SKIN_LOADED,b.proxy(this.handleSkinLoaded,this)),e.load(this.playVars.skinClass),this.registerDataEvents(),this.playerType==a.GlobalConstant.HTML5&&!a.Utils.browser.versions.mobile){new a.ContextMenu(this.sewisePlayer.getPlayerContainer(),this.playVars)}},c.fn.handleSkinLoaded=function(){this.skinController=new a.SkinController(this.playerID,this.playVars.skinClass,this.globalParam),this.skinController.logo(this.playVars.logo),this.skinController.lang(this.playVars.lang),this.skinController.clarityBtnDisplay(this.playVars.clarityBtnDisplay),this.skinController.timeDisplay(this.playVars.timeDisplay),this.skinController.controlBarDisplay(this.playVars.controlBarDisplay),this.skinController.topBarDisplay(this.playVars.topBarDisplay),this.skinController.bigPlayBtnDisplay(this.playVars.bigPlayBtnDisplay),this.skinController.customDatas(this.playVars.customDatas),this.skinController.player(this),this.skinController.volume(this.playVars.volume),this.isLive&&this.skinController.duration(this.playVars.duration),this.createSewiseMedia(),this.sewiseVideo.controls(!1),this.isLive?this.playVars.shiftTime?this.getShiftStreams():this.getLiveStreams():this.getStreams()},c.fn.getStreams=function(){var b=this,c=this.playVars;if(this.globalVars.clarities=[],c.programId)return void a.Utils.jsonp({url:c.serverPath+c.programId,jsonp:"callback",data:{mode:"vod",protocal:c.protocal},success:function(d){c.videoUrl=d.url;var e=d.url.substr(d.url.length-4,4);c.type=e.indexOf("mp4")>=0?"mp4":e.indexOf("flv")>=0?"flv":a.GlobalConstant.M3U8;var f={name:"默认",videoUrl:c.videoUrl,id:0,selected:!0};b.globalVars.clarities.push(f),b.streamsReadyNotice(c)}});if(c.videosJsonUrl){if(this.playerType==a.GlobalConstant.HTML5)this.parseVodData(c,c.videosJsonUrl);else{var d=JSON.parse(decodeURIComponent(c.videosJsonUrl));this.parseVodData(c,d)}return void this.streamsReadyNotice(c)}if(c.videoUrl){var e={name:"默认",videoUrl:c.videoUrl,id:0,selected:!0};this.globalVars.clarities.push(e),this.streamsReadyNotice(c)}else"#"===c.url?this.streamsReadyNotice(c):this.streamsFailedNotice()},c.fn.parseVodData=function(a,b){a.title=b.programname;var c,d=b.videos;this.globalVars.clarities=[];for(var e=0;e<d.length;e++){var f=d[e],g={name:"",videoUrl:"",id:0,selected:!1};g.name=f.name?f.name:"",g.selected=f.selected?f.selected:!1,g.videoUrl=f.url,g.id=e,this.globalVars.clarities.push(g),g.selected&&(c=g,c.selected=!0,a.videoUrl=c.videoUrl)}c||(c=this.globalVars.clarities[0],c.selected=!0,a.videoUrl=c.videoUrl)},c.fn.streamsReadyNotice=function(a){this.isLive?this.initTimes(a):this.isVideo&&this.skinController.initialClarity(this.globalVars.clarities),this.skinController.programTitle(a.title),this.skinController.getMedia(),this.isUpateProgramID?this.isLive?this.toLivePlay(a.streamUrl,a.title,a.shiftTime,a.autoStart):this.toPlay(a.videoUrl,a.title,a.startTime,a.autoStart):this.readyPlay(a)},c.fn.streamsFailedNotice=function(){this.playVars.showError!==!1&&alert(a.SkinUtils.language.getString("urlError"))},c.fn.initTimes=function(a){this.livePlayTime=a.liveTime?new Date(parseFloat(a.liveTime)):new Date,this.startMilliTime=this.livePlayTime.getTime(),a.serverTime?this.serverTime=new Date(1e3*a.serverTime):this.serverTime||(this.serverTime=new Date(this.startMilliTime)),this.timeOff=this.startMilliTime-(new Date).getTime(),this.beginLiveTimeHeart()},c.fn.beginLiveTimeHeart=function(){function a(){b.serverTime=new Date(b.serverTime.getTime()+200);var a=new Date;b.livePlayTime=new Date(a.getTime()+b.timeOff)}var b=this;clearInterval(this.intervalID),this.intervalID=setInterval(a,200)},c.fn.getLiveStreams=function(){var b=this.playVars,c=this;b.programId&&this.isHtml5?a.Utils.jsonp({url:b.serverPath+b.programId,data:{mode:"live",protocal:b.protocal},success:function(d){d.url?(b.streamUrl=d.url,b.type=a.GlobalConstant.M3U8,d.livetime?b.liveTime=d.livetime:d.live_time&&(b.liveTime=d.live_time),c.streamsReadyNotice(b)):d.error&&alert(d.error)}}):b.programId&&!this.isHtml5?c.streamsReadyNotice(b):b.streamUrl?this.streamsReadyNotice(b):"#"===b.url?this.streamsReadyNotice(b):this.streamsFailedNotice()},c.fn.getShiftStreams=function(){var b=this.playVars,c=this;this.isHtml5?a.Utils.jsonp({url:b.serverPath+b.programId,data:{mode:"timeshift",protocal:b.protocal,start_tm:b.shiftTime},success:function(d){d.url?(b.streamUrl=d.url,d.livetime?b.liveTime=d.livetime:d.live_time&&(b.liveTime=d.live_time),c.streamsReadyNotice(b)):d&&10004==parseInt(d.code)&&c.fireEvent(a.SewisePlayerEvent.GET_LIVE_STREAMS)}}):c.streamsReadyNotice(b)},c.fn.createSewiseMedia=function(){this.registerMediaEvents(),this.sewiseVideo.init(this.playVars,this.videoContainer)},c.fn.readyPlay=function(b){var c=this;this.sewiseVideo.on("sewiseMediaReady",function(){if(c.playerType==a.GlobalConstant.HTML5)if(c.isLive)c.sewiseVideo.updatePlayer(b.streamUrl,b.buffer,b.shiftTime,b.poster,b.type,b.fallbackUrls,b.volume,b.hlsjs),c.sewiseVideo.play();else if(c.sewiseVideo.updatePlayer(b.videoUrl,b.buffer,b.startTime,b.poster,b.type,b.fallbackUrls,b.volume,b.hlsjs),b.autoStart)if(b.startTime>0)c.sewiseVideo.seek(b.startTime);else{if("#"===c.playVars.url)return;c.sewiseVideo.play()}c.isVideo&&c.skinController.setScreenEvent()}),this.loadPlugins(),this.sewisePlayer.fireEvent(a.SewisePlayerEvent.PLAYER_READY),this.sewiseVideo.readyPlay()},c.fn.loadPlugins=function(){var a=this.sewisePlayer.plugins||{};for(var b in a)a[b].init(this.sewisePlayer)},c.fn.registerDataEvents=function(){this.on(a.SewisePlayerEvent.GET_VOD_STREAMS,b.proxy(function(){this.getStreams()},this)),this.on(a.SewisePlayerEvent.GET_LIVE_STREAMS,b.proxy(function(){this.getLiveStreams()},this)),this.on(a.SewisePlayerEvent.GET_SHIFT_STREAMS,b.proxy(function(){this.getShiftStreams()},this))},c.fn.registerMediaEvents=function(){this.sewiseVideo.on(a.SewisePlayerEvent.PLAY_START,b.proxy(this.playStartHandler,this)),this.sewiseVideo.on(a.SewisePlayerEvent.PLAY_PAUSE,b.proxy(this.playPauseHandler,this)),this.sewiseVideo.on(a.SewisePlayerEvent.PLAY_ENDED,b.proxy(this.playEndedHandler,this)),this.sewiseVideo.on(a.SewisePlayerEvent.DURATION_CHANGE,b.proxy(this.durationChangeHandler,this)),this.sewiseVideo.on(a.SewisePlayerEvent.TIME_UPDATE,b.proxy(this.timeupdateHandler,this)),this.sewiseVideo.on(a.SewisePlayerEvent.LOAD_PROGRESS,b.proxy(this.loadProgressHandler,this)),this.sewiseVideo.on(a.SewisePlayerEvent.BUFFER_PROGRESS,b.proxy(this.bufferProgressHandler,this)),this.sewiseVideo.on(a.SewisePlayerEvent.LOAD_OPEN,b.proxy(this.loadedOpenHandler,this)),this.sewiseVideo.on(a.SewisePlayerEvent.LOAD_COMPLETE,b.proxy(this.loadedCompleteHandler,this)),this.sewiseVideo.on(a.SewisePlayerEvent.METADATA,b.proxy(this.metadataHandler,this)),this.sewiseVideo.on(a.SewisePlayerEvent.SEEK,b.proxy(this.seekHandler,this)),this.sewiseVideo.on(a.SewisePlayerEvent.BEFORE_PLAY,b.proxy(this.beforePlayHandler,this)),this.sewiseVideo.on(a.SewisePlayerEvent.FLASH_HLS_EVENTS,b.proxy(this.hlsEventHandler,this)),this.sewiseVideo.on(a.SewisePlayerEvent.SKIN_SHOWSTATE_CHANGE,b.proxy(this.skinStateChangeHandler,this))},c.fn.playStartHandler=function(){this.skinController.started(),this.sewisePlayer.fireEvent(a.SewisePlayerEvent.PLAY_START)},c.fn.playPauseHandler=function(){this.skinController.paused(),this.sewisePlayer.fireEvent(a.SewisePlayerEvent.PLAY_PAUSE)},c.fn.playEndedHandler=function(){this.skinController.stopped(),this.sewisePlayer.fireEvent(a.SewisePlayerEvent.PLAY_ENDED)},c.fn.durationChangeHandler=function(){this.skinController.duration(this.sewiseVideo.duration()),this.sewisePlayer.fireEvent(a.SewisePlayerEvent.DURATION_CHANGE)},c.fn.timeupdateHandler=function(){var b=this.sewiseVideo.currentTime();this.isLive?(this.livePlayTime=new Date(this.startMilliTime+1e3*b),this.skinController.timeUpdate(null)):this.skinController.timeUpdate(b),this.sewisePlayer.fireEvent(a.SewisePlayerEvent.TIME_UPDATE)},c.fn.metadataHandler=function(b){this.sewisePlayer.fireEvent(a.SewisePlayerEvent.METADATA,b)},c.fn.seekHandler=function(b){this.isSeeking=!0,this.sewisePlayer.fireEvent(a.SewisePlayerEvent.SEEK,b)},c.fn.beforePlayHandler=function(){this.sewisePlayer.fireEvent(a.SewisePlayerEvent.BEFORE_PLAY)},c.fn.loadProgressHandler=function(b){var c=b.progress;this.isLive||this.skinController.loadedProgress(c),this.sewisePlayer.fireEvent(a.SewisePlayerEvent.LOAD_PROGRESS,{progress:b.progress})},c.fn.hlsEventHandler=function(b){this.sewisePlayer.fireEvent(a.SewisePlayerEvent.FLASH_HLS_EVENTS,b)},c.fn.skinStateChangeHandler=function(a){var c=this.sewisePlayer.skinContainer;"show"==a?b(c).css("display","block"):b(c).css("display","none")},c.fn.bufferProgressHandler=function(b){this.skinController.bufferProgress(b.progress),this.sewisePlayer.fireEvent(a.SewisePlayerEvent.BUFFER_PROGRESS,{progress:b.progress})},c.fn.loadedOpenHandler=function(){"#"!==this.playVars.url&&(this.skinController.loadedOpen(),this.sewisePlayer.fireEvent(a.SewisePlayerEvent.LOAD_OPEN))},c.fn.loadedCompleteHandler=function(){this.isSeeking=!1,this.skinController.loadedComplete(),this.sewisePlayer.fireEvent(a.SewisePlayerEvent.LOAD_COMPLETE)},c.fn.live=function(){this.playerType==a.GlobalConstant.HTML5?this.fireEvent(a.SewisePlayerEvent.GET_LIVE_STREAMS):this.sewiseVideo.live()},c.fn.play=function(){"#"!==this.playVars.url&&this.sewiseVideo.play()},c.fn.pause=function(){"#"!==this.playVars.url&&this.sewisePlayer.timeupdateOpen&&this.sewiseVideo.pause()},c.fn.seek=function(b){if("#"!==this.playVars.url&&"disable"!==this.playVars.seek)if(this.isLive){if(!this.playVars.draggable)return;var c=a.SkinUtils.stringer.timeStr14ToDate(b);b=c.getTime().toString();var d=b;if(c.getTime()>this.serverTime.getTime())return void alert("时移请求时间超出了范围");this.playerType==a.GlobalConstant.HTML5?(this.isUpateProgramID=!0,this.playVars.shiftTime=d,this.fireEvent(a.SewisePlayerEvent.GET_SHIFT_STREAMS)):this.sewiseVideo.seek(b)}else this.sewiseVideo.seek(b)},c.fn.stop=function(){this.sewiseVideo.stop(),this.sewisePlayer.fireEvent(a.SewisePlayerEvent.PlAY_STOP)},c.fn.changeClarity=function(a){var b=a.videoUrl,c=this.playTime()>0?this.playTime():0;this.toPlay(b,this.playVars.title,c,!0)},c.fn.setVolume=function(a){this.sewiseVideo.volume(a),this.skinController&&this.skinController.volume(a)},c.fn.muted=function(a){this.sewiseVideo.muted(a),this.skinController&&this.skinController.muted(a)},c.fn.changeControlBarShowState=function(b){this.sewisePlayer.fireEvent(a.SewisePlayerEvent.CONTROLBAR_SHOW_SATE,{isShow:b})},c.fn.changeFullScreen=function(b){this.sewisePlayer.fireEvent(b?a.SewisePlayerEvent.FULLSCREEN:a.SewisePlayerEvent.CANCEL_FULLSCREEN)},c.fn.changeScreenBtnState=function(b){this.sewisePlayer.fireEvent(b?a.SewisePlayerEvent.FULLSCREEN_BTN_CLICK:a.SewisePlayerEvent.NORMALSCREEN_BTN_CLICK)},c.fn.playProgram=function(b,c,d,e){this.playVars.programId=b,this.playVars.startTime=c,this.playVars.autoStart=d,e&&(this.playVars.serverPath=e),this.playVars.title="",this.isUpateProgramID=!0,this.fireEvent(a.SewisePlayerEvent.GET_VOD_STREAMS)},c.fn.playChannel=function(b,c,d,e){this.playVars.programId=b,this.playVars.shiftTime=c,this.playVars.autoStart=d,e&&(this.playVars.serverPath=e),this.playVars.title="",this.isUpateProgramID=!0,this.playerType==a.GlobalConstant.HTML5?this.fireEvent(this.playVars.shiftTime?a.SewisePlayerEvent.GET_SHIFT_STREAMS:a.SewisePlayerEvent.GET_LIVE_STREAMS):this.sewiseVideo.playProgram(b,c,d,e)},c.fn.updateVideosjsonurl=function(a){var b=this.playVars;this.parseVodData(b,a),this.skinController.initialClarity(this.globalVars.clarities),this.toPlay(b.videoUrl,b.title,0,b.autoStart)},c.fn.toPlay=function(b,c,d,e){var f=this.playVars;f.videoUrl=b,f.title=c,f.startTime=d,f.autoStart=e,f.url=b,this.skinController.programTitle(f.title),this.playerType==a.GlobalConstant.HTML5?(this.sewiseVideo.updatePlayer(f.videoUrl,f.buffer,f.startTime,f.poster,f.type,f.fallbackUrls,f.volume,f.hlsjs),f.autoStart?f.startTime>0?this.sewiseVideo.seek(f.startTime):this.sewiseVideo.play():(this.sewiseVideo.autoplay(e),this.skinController.paused()),this.sewisePlayer.fireEvent(a.SewisePlayerEvent.UPDATE_VIDEO_URL,{url:b})):this.sewiseVideo.toPlay(b,c,d,e)},c.fn.toPlayComplexUrl=function(a,b,c,d,e){e&&(a=encodeURIComponent(a)),this.toPlay(a,b,c,d)},c.fn.toLivePlay=function(b,c,d,e){var f=this.playVars;f.streamUrl=b,f.title=c,f.shiftTime=d,f.autoStart=e,f.url=b,this.skinController.programTitle(f.title),this.playerType==a.GlobalConstant.HTML5?(this.sewiseVideo.updatePlayer(f.streamUrl,f.buffer,f.shiftTime,f.poster,f.type,f.fallbackUrls,f.volume,f.hlsjs),this.sewiseVideo.play()):this.sewiseVideo.toPlay(b,c,d,e)},c.fn.duration=function(){return this.isLive?this.playVars.duration:this.sewiseVideo.duration()},c.fn.liveTime=function(a){return this.isHtml5?a&&0!==this.timeZoneOffsetTime?new Date(this.serverTime.getTime()+this.timeZoneOffsetTime):this.serverTime:this.sewiseVideo.liveTime()},c.fn.playTime=function(a){return this.isLive&&this.isHtml5?a&&0!==this.timeZoneOffsetTime?new Date(this.livePlayTime.getTime()+this.timeZoneOffsetTime):this.livePlayTime:this.sewiseVideo.currentTime()},c.fn.setDuration=function(a){this.playVars.duration=a,this.skinController.duration(this.playVars.duration),this.isHtml5||this.sewiseVideo.setDuration(a)
},c.fn.refreshTimeSpan=function(a,b,c,d){a&&b&&this.skinController.refreshTimes(a,b,c,d),c&&(this.timeZoneOffsetTime=new Date(c).getTime()-1e3*d),this.isHtml5||this.sewiseVideo.refreshTimeSpan(a,b,c,d)},c.fn.shareVideo=function(){this.sewisePlayer.fireEvent(a.SewisePlayerEvent.SHARE_VIDEO)},c.fn.getMedia=function(){var a;return a=this.isVideo?this.sewiseVideo.videoObject:this.sewiseVideo.audioObject,this.isHtml5?a:a.flashPlayer},c.fn.setPlaybackRate=function(a){this.isHtml5&&this.sewiseVideo.videoObject.playbackRate&&(this.sewiseVideo.videoObject.playbackRate=a)},c.fn.getPlaybackRate=function(){return this.isHtml5?this.sewiseVideo.videoObject.playbackRate:1},c.fn.clearMedia=function(){this.stop(),this.isHtml5&&(this.sewiseVideo.videoObject?this.sewiseVideo.videoObject.src="":this.sewiseVideo.audioObject.src=""),this.skinController.stopped(),this.playVars.url="#",this.skinController.setPlayTimeOffset(0,0),this.skinController.reset(),this.skinController.duration(0),this.skinController.timeUpdate(0),this.skinController.loadedProgress(0),this.skinController.title("")},c.fn.lockScreen=function(a){this.isLockScreen=a},c.fn.dispose=function(){clearInterval(this.intervalID),this.sewiseVideo.clearAllRegisterEvents(),this.clearMedia()},c.fn.nextVideo=function(){this.sewisePlayer.fireEvent(a.SewisePlayerEvent.PLAY_NEXT)}}(window.Sewise,window.jQuery),function(a,b){var c=a.SewiseVideo=function(b,c,d){this.videoObject=null,this.playerType=b,this.playVars=null,this.isLive=c,this.isHtml5=!0,this.isCanPlay=!1,this.startTime=0,this.loadPt=0,this.videoContainer=null,this.playerID=d,this.mediaType=a.GlobalConstant.VIDEO};c.fn=c.prototype,b.extend(c.prototype,a.Event),c.prototype.init=function(c,d){function e(){f.loadedCompleteHandler(),f.videoObject.removeEventListener("canplay",e,!1),f.isCanPlay=!0,f.startTime>0&&(f.isHtml5?f.videoObject.currentTime=f.startTime:f.videoObject.setCurrentTime(f.startTime))}this.playVars=c,this.videoContainer=d;var f=this;this.playerType==a.GlobalConstant.HTML5?(this.isHtml5=!0,this.isCanPlay=!1,a.video&&!a.Utils.browser.versions.ios&&a.Utils.browser.versions.mobile?(this.videoObject=a.video,this.videoObject.pause()):(this.videoObject=document.createElement("video"),this.playVars.playsinline&&this.videoObject.setAttribute("webkit-playsinline",!0),a.video=this.videoObject),this.videoObject.autoplay=!1,this.videoObject.controls=!0,this.videoObject.loop=!1,d.append(this.videoObject),this.videoObject.addEventListener("canplay",e,!1)):(this.isHtml5=!1,this.videoObject=new a.FlashVideo(this.isLive,this.playerID,this.mediaType)),this.videoObject.addEventListener("emptied",b.proxy(this.emptiedOpenHandler,this),!1),this.videoObject.addEventListener("waiting",b.proxy(this.waitingOpenHandler,this),!1),this.videoObject.addEventListener("seeking",b.proxy(this.seekingHandler,this),!1),this.videoObject.addEventListener("seeked",b.proxy(this.seekedHandler,this),!1),this.videoObject.addEventListener("play",b.proxy(this.playStartHandler,this),!1),this.videoObject.addEventListener("playing",b.proxy(this.playStartHandler,this),!1),this.videoObject.addEventListener("pause",b.proxy(this.playPauseHandler,this),!1),this.videoObject.addEventListener("ended",b.proxy(this.playEndedHandler,this),!1),this.videoObject.addEventListener("durationchange",b.proxy(this.durationChangeHandler,this),!1),this.videoObject.addEventListener("timeupdate",b.proxy(this.timeupdateHandler,this),!1),this.videoObject.addEventListener("progress",b.proxy(this.loadProgressHandler,this),!1),this.videoObject.addEventListener("bufferprogress",b.proxy(this.bufferProgressHandler,this),!1),this.videoObject.addEventListener("loadedmetadata",b.proxy(this.metadataHandler,this),!1),this.videoObject.addEventListener("beforePlay",b.proxy(this.beforePlayHandler,this),!1),this.videoObject.addEventListener("hlsEvents",b.proxy(this.hlsEventHandler,this),!1),this.videoObject.addEventListener("skinStateChange",b.proxy(this.skinShowStateHandler,this),!1)},c.prototype.readyPlay=function(){if(this.isHtml5)this.fireEvent("sewiseMediaReady");else{var a=this;this.videoObject.on("flash_playerReady",function(){a.isCanPlay=!0,a.fireEvent("sewiseMediaReady")}),this.videoObject.renderTo(this.playVars,this.videoContainer)}},c.prototype.updatePlayer=function(a,b,c,d,e,f,g,h){function i(){k.videoObject.removeEventListener("canplay",i,!1),k.isCanPlay=!0,k.startTime>=0&&(k.isHtml5?k.videoObject.currentTime=k.startTime:k.videoObject.setCurrentTime(k.startTime))}var j={mp4:"video/mp4",ogg:"video/ogg",webm:"video/webm",m3u8:"application/x-mpegURL"};this.isCanPlay=!1;var k=this,l=this.videoObject;if(l.addEventListener("canplay",i,!1),this.startTime=c,d&&(l.poster=d),l.volume=g,f){if(l.canPlayType)if(""!==l.canPlayType(j[e]))l.src=a;else for(var m in f)if(""!==l.canPlayType(j[m])){l.src=f[m];break}}else h||(l.src=a)},c.fn.play=function(){this.fireEvent(a.SewisePlayerEvent.BEFORE_PLAY),this.videoObject.autoplay=!0,this.videoObject.play&&this.videoObject.play()},c.fn.pause=function(){this.videoObject.pause()},c.fn.seek=function(a){this.isCanPlay?this.isHtml5?this.videoObject.currentTime=a:this.videoObject.setCurrentTime(a):(this.videoObject.autoplay=!0,this.videoObject.play&&this.videoObject.play())},c.fn.stop=function(){this.isHtml5?(this.videoObject.currentTime&&(this.videoObject.currentTime=0),this.videoObject.pause()):this.videoObject.stop()},c.fn.duration=function(){return this.isHtml5?this.isLive?this.playVars.duration:this.videoObject.duration:this.videoObject.getDuration()},c.fn.currentTime=function(){return this.isHtml5?this.videoObject.currentTime:this.videoObject.getCurrentTime()},c.fn.muted=function(a){this.videoObject&&(this.isHtml5?this.videoObject.muted=a:this.videoObject.muted(a))},c.fn.controls=function(a){this.videoObject.controls=a},c.fn.volume=function(a){this.isHtml5?this.videoObject.volume=a:this.videoObject.setVolume(a)},c.fn.autoplay=function(a){this.videoObject.autoplay=a},c.fn.bufferPt=function(){return this.loadPt},c.fn.live=function(){this.videoObject.live()},c.fn.liveTime=function(){return this.videoObject.liveTime()},c.fn.toPlay=function(a,b,c,d){this.videoObject.toPlay(a,b,c,d)},c.fn.playProgram=function(a,b,c,d){this.isLive&&this.videoObject.playChannel(a,b,c,d)},c.fn.setDuration=function(a){this.videoObject.setDuration(a)},c.fn.refreshTimeSpan=function(a,b,c,d){this.videoObject.refreshTimeSpan(a,b,c,d)},c.fn.loadedCompleteHandler=function(){this.fireEvent(a.SewisePlayerEvent.LOAD_COMPLETE)},c.fn.loadedOpenHandler=function(){this.fireEvent(a.SewisePlayerEvent.LOAD_OPEN)},c.fn.emptiedOpenHandler=function(){},c.fn.waitingOpenHandler=function(){this.loadedOpenHandler()},c.fn.playStartHandler=function(){this.fireEvent(a.SewisePlayerEvent.PLAY_START)},c.fn.playPauseHandler=function(){this.fireEvent(a.SewisePlayerEvent.PLAY_PAUSE)},c.fn.playEndedHandler=function(){this.fireEvent(a.SewisePlayerEvent.PLAY_ENDED)},c.fn.durationChangeHandler=function(){this.fireEvent(a.SewisePlayerEvent.DURATION_CHANGE)},c.fn.timeupdateHandler=function(){this.fireEvent(a.SewisePlayerEvent.TIME_UPDATE)},c.fn.loadProgressHandler=function(b){if(this.isHtml5){if(this.videoObject.buffered&&this.videoObject.duration>0)try{this.loadPt=this.videoObject.buffered.end(0)/this.videoObject.duration}catch(c){this.loadPt=0}}else this.loadPt=parseFloat(b);this.fireEvent(a.SewisePlayerEvent.LOAD_PROGRESS,{progress:this.loadPt})},c.fn.seekingHandler=function(b){this.fireEvent(a.SewisePlayerEvent.LOAD_OPEN),this.fireEvent(a.SewisePlayerEvent.SEEK,b)},c.fn.seekedHandler=function(){this.loadedCompleteHandler()},c.fn.metadataHandler=function(b){this.fireEvent(a.SewisePlayerEvent.METADATA,b)},c.fn.beforePlayHandler=function(){this.fireEvent(a.SewisePlayerEvent.BEFORE_PLAY)},c.fn.hlsEventHandler=function(b){this.fireEvent(a.SewisePlayerEvent.FLASH_HLS_EVENTS,b)},c.fn.skinShowStateHandler=function(b){this.fireEvent(a.SewisePlayerEvent.SKIN_SHOWSTATE_CHANGE,b)},c.fn.bufferProgressHandler=function(b){this.fireEvent(a.SewisePlayerEvent.BUFFER_PROGRESS,{progress:b})}}(window.Sewise,window.jQuery),function(a,b){var c=a.SewiseAudio=function(b,c){this.audioObject=null,this.playerType=b,this.playVars=null,this.isHtml5=!0,this.isCanPlay=!1,this.audioContainer=null,this.startTime=0,this.loadPt=0,this.playerID=c,this.mediaType=a.GlobalConstant.AUDIO};c.fn=c.prototype,b.extend(c.prototype,a.Event),c.fn.init=function(c,d){function e(){f.audioObject.removeEventListener("canplay",e,!1),f.isCanPlay=!0,f.startTime>0&&(f.isHtml5?f.audioObject.currentTime=f.startTime:f.audioObject.setCurrentTime(f.startTime))}this.playVars=c,this.audioContainer=d;var f=this;this.playerType==a.GlobalConstant.HTML5?(this.isHtml5=!0,this.isCanPlay=!1,this.audioObject=document.createElement("audio"),this.audioObject.autoplay=!1,this.audioObject.controls=!0,this.audioObject.loop=!1,d.append(this.audioObject),this.audioObject.addEventListener("canplay",e,!1)):(this.isHtml5=!1,this.audioObject=new a.FlashVideo(this.isLive,this.playerID,this.mediaType)),this.audioObject.addEventListener("emptied",b.proxy(this.emptiedOpenHandler,this),!1),this.audioObject.addEventListener("waiting",b.proxy(this.waitingOpenHandler,this),!1),this.audioObject.addEventListener("seeking",b.proxy(this.seekingHandler,this),!1),this.audioObject.addEventListener("seeked",b.proxy(this.seekedHandler,this),!1),this.audioObject.addEventListener("play",b.proxy(this.playStartHandler,this),!1),this.audioObject.addEventListener("playing",b.proxy(this.playStartHandler,this),!1),this.audioObject.addEventListener("pause",b.proxy(this.playPauseHandler,this),!1),this.audioObject.addEventListener("ended",b.proxy(this.playEndedHandler,this),!1),this.audioObject.addEventListener("durationchange",b.proxy(this.durationChangeHandler,this),!1),this.audioObject.addEventListener("timeupdate",b.proxy(this.timeupdateHandler,this),!1),this.audioObject.addEventListener("loadedmetadata",b.proxy(this.metadataHandler,this),!1)},c.fn.readyPlay=function(){if(this.isHtml5)this.fireEvent("sewiseMediaReady");else{var a=this;this.audioObject.on("flash_playerReady",function(){a.isCanPlay=!0,a.fireEvent("sewiseMediaReady")}),this.audioObject.renderTo(this.playVars,this.audioContainer)}},c.fn.updatePlayer=function(a,b,c,d,e,f,g){function h(){j.audioObject.removeEventListener("canplay",h,!1),j.isCanPlay=!0,j.startTime>=0&&(j.isHtml5?j.audioObject.currentTime=j.startTime:j.audioObject.setCurrentTime(j.startTime))}var i={mp3:"audio/mpeg",ogg:"audio/ogg",mp4:"audio/mp4"};this.isCanPlay=!1;var j=this,k=this.audioObject;if(k.addEventListener("canplay",h,!1),this.startTime=c,k.volume=g,f){if(k.canPlayType)if(""!==k.canPlayType(i[e]))k.src=a;else for(var l in f)if(""!==k.canPlayType(i[l])){k.src=f[l];break}}else k.src=a},c.fn.play=function(){this.fireEvent(a.SewisePlayerEvent.BEFORE_PLAY),this.audioObject.autoplay=!0,this.audioObject.play&&this.audioObject.play()},c.fn.pause=function(){this.audioObject.pause()},c.fn.seek=function(a){this.isCanPlay?this.isHtml5?this.audioObject.currentTime=a:this.audioObject.setCurrentTime(a):(this.audioObject.autoplay=!0,this.audioObject.play&&this.audioObject.play())},c.fn.stop=function(){this.isHtml5?(this.audioObject.currentTime&&(this.audioObject.currentTime=0),this.audioObject.pause()):this.audioObject.pause()},c.fn.duration=function(){return this.isHtml5?this.audioObject.duration:this.audioObject.getDuration()},c.fn.currentTime=function(){return this.isHtml5?this.audioObject.currentTime:this.audioObject.getCurrentTime()},c.fn.muted=function(a){this.audioObject&&(this.isHtml5?this.audioObject.muted=a:this.audioObject.muted(a))},c.fn.controls=function(a){this.audioObject.controls=a},c.fn.volume=function(a){this.isHtml5?this.audioObject.volume=a:this.audioObject.setVolume(a)},c.fn.autoplay=function(a){this.audioObject.autoplay=a},c.fn.toPlay=function(a,b,c,d){this.audioObject.toPlay(a,b,c,d)},c.fn.loadedCompleteHandler=function(){this.fireEvent(a.SewisePlayerEvent.LOAD_COMPLETE)},c.fn.loadedOpenHandler=function(){this.fireEvent(a.SewisePlayerEvent.LOAD_OPEN)},c.fn.emptiedOpenHandler=function(){},c.fn.waitingOpenHandler=function(){this.loadedOpenHandler()},c.fn.playStartHandler=function(){this.fireEvent(a.SewisePlayerEvent.PLAY_START)},c.fn.playPauseHandler=function(){this.fireEvent(a.SewisePlayerEvent.PLAY_PAUSE)},c.fn.playEndedHandler=function(){this.fireEvent(a.SewisePlayerEvent.PLAY_ENDED)},c.fn.durationChangeHandler=function(){this.fireEvent(a.SewisePlayerEvent.DURATION_CHANGE)},c.fn.timeupdateHandler=function(){this.fireEvent(a.SewisePlayerEvent.TIME_UPDATE)},c.fn.loadProgressHandler=function(b){if(this.isHtml5){if(this.audioObject.buffered&&this.audioObject.duration>0)try{this.loadPt=this.audioObject.buffered.end(0)/this.audioObject.duration}catch(c){this.loadPt=0}}else this.loadPt=parseFloat(b);this.fireEvent(a.SewisePlayerEvent.LOAD_PROGRESS,{progress:this.loadPt})},c.fn.seekingHandler=function(b){this.fireEvent(a.SewisePlayerEvent.LOAD_OPEN),this.fireEvent(a.SewisePlayerEvent.SEEK,b)},c.fn.seekedHandler=function(){this.loadedCompleteHandler()},c.fn.metadataHandler=function(b){this.fireEvent(a.SewisePlayerEvent.METADATA,b)}}(window.Sewise,window.jQuery),function(a){var b=a.GlobalParams=function(b){this.server="",this.type="",this.swfPath="",this.primary="html5",this.isMobile=!1,this.supportH5=!0,this.supportFlash=!1,this.supportHls=!1,this.porthost=null,this.playerType="",this.parameObj=b,this.programId="",this.hlsjs=!1,this.protocal="hls",this.safari=!1,this.mediaType=a.GlobalConstant.VIDEO,this.calculateOffTop=!0};b.prototype.init=function(){this.hlsjs="true"==this.parameObj.hlsjs?!0:"false"==this.parameObj?!1:this.parameObj.hlsjs;var b=this.parameObj.url;if(b)if("#"===b)this.server=this.parameObj.server?this.parameObj.server:"vod",this.type=this.parameObj.type?this.parameObj.type:"mp4";else{var c=a.Utils.parseURL(b);if("vod:"==c.protocol)this.server="vod",this.programId=c.segments[1],this.porthost=c.host,c.port&&(this.porthost+=":"+c.port),this.type="m3u8";else if("live:"==c.protocol)this.server="live",this.programId=c.segments[1],c.segments[2]&&(this.protocal=c.segments[2]),this.porthost=c.host,c.port&&(this.porthost+=":"+c.port),this.type="rtmp"==this.protocal?"rtmp":"m3u8";else{var d=b.substr(b.length-4,4);"rtmp:"==c.protocol?(this.server="live",this.type="rtmp",this.parameObj.streamurl=b):d.indexOf("mp4")>=0?(this.server="vod",this.type="mp4",this.parameObj.videourl=b):d.indexOf("flv")>=0?(this.server="vod",this.type="flv",this.parameObj.videourl=b):d.indexOf("m3u8")>=0?(this.parameObj.server&&"live"==this.parameObj.server?(this.server="live",this.parameObj.streamurl=b):(this.server="vod",this.parameObj.videourl=b),this.type="m3u8"):(this.type=this.parameObj.type,this.parameObj.server&&"live"==this.parameObj.server?(this.server="live",this.parameObj.streamurl=b):(this.server="vod",this.parameObj.videourl=b))}}else this.server="vod",this.type=this.parameObj.type;this.parameObj.swfpath&&(this.swfPath=this.parameObj.swfpath),this.parameObj.primary&&(this.primary=this.parameObj.primary),this.calculateOffTop="false"==this.parameObj.calculateOffTop?!1:this.parameObj.calculateOffTop,"vod"!=this.server||this.parameObj.skin?"live"!=this.server||this.parameObj.skin||(this.parameObj.skin="liveWhite"):this.parameObj.skin="vodWhite",this.isMobile=a.Utils.browser.versions.mobile,this.supportH5=a.Utils.browser.supportH5,this.supportFlash=a.Utils.browser.supportFlash,this.supportHls=a.Utils.browser.supportHls,this.safari=a.Utils.browser.versions.safari,this.playerType=this.getPlayerType()},b.prototype.getPlayerId=function(){},b.prototype.getServerType=function(){return this.server},b.prototype.getSwfPath=function(){return this.swfPath},b.prototype.getMediaType=function(){return this.mediaType},b.prototype.getPlayerType=function(){if(this.parameObj.playerType)return this.playerType=this.parameObj.playerType,this.parameObj.playerType;if(this.server==a.GlobalConstant.VOD)switch(this.type){case a.GlobalConstant.FLV:this.playerType=this.supportFlash?a.GlobalConstant.FLASH:a.GlobalConstant.HTML5;break;case a.GlobalConstant.MP4:this.playerType=this.supportH5&&"flash"!==this.primary||!this.supportFlash?a.GlobalConstant.HTML5:a.GlobalConstant.FLASH;break;case a.GlobalConstant.M3U8:this.playerType=this.supportH5&&this.isMobile&&"flash"!==this.primary||!this.supportFlash?a.GlobalConstant.HTML5:this.supportHls&&this.hlsjs?a.GlobalConstant.HTML5:this.supportH5&&this.safari&&"flash"!==this.primary?a.GlobalConstant.HTML5:a.GlobalConstant.FLASH;break;case a.GlobalConstant.MP3:case a.GlobalConstant.OGG:this.playerType=this.supportFlash&&"html5"!==this.primary||!this.supportH5?a.GlobalConstant.FLASH:a.GlobalConstant.HTML5,this.mediaType=a.GlobalConstant.AUDIO}else if(this.server==a.GlobalConstant.LIVE)switch(this.type){case a.GlobalConstant.RTMP:this.playerType=this.supportFlash?a.GlobalConstant.FLASH:a.GlobalConstant.HTML5;break;case a.GlobalConstant.HTTP:this.playerType=this.supportFlash?a.GlobalConstant.FLASH:a.GlobalConstant.HTML5;break;case a.GlobalConstant.M3U8:this.playerType=this.supportH5&&this.isMobile&&"flash"!==this.primary||!this.supportFlash?a.GlobalConstant.HTML5:this.supportHls&&this.hlsjs?a.GlobalConstant.HTML5:this.supportH5&&this.safari&&"flash"!==this.primary?a.GlobalConstant.HTML5:a.GlobalConstant.FLASH;break;case a.GlobalConstant.MP3:this.playerType=this.supportFlash&&"html5"!==this.primary||!this.supportH5?a.GlobalConstant.FLASH:a.GlobalConstant.HTML5,this.mediaType=a.GlobalConstant.AUDIO}return this.playerType},b.prototype.getPlayVars=function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L=this.parameObj;if(i=L.skin,j=L.skin,i?(K={},K.skinCssPath=a.localPath+"html/skins/"+i+"/skin.css",K.skinHtmlPath=a.localPath+"html/skins/"+i+"/skin.html",K.skinHtmlJsPath=a.localPath+"html/skins/"+i+"/skin.html.js",i=K):i="",e=L.lang?L.lang:"en_US",f=L.logo?L.logo:"http://player.sewise.com/playerimages/logo.png",h=this.type,s=L.volume?L.volume:.8,t=L.key?L.key:"",m=L.published?L.published:0,n=L.poster?L.poster:"",k=L.title?L.title:"",B=L.claritybtndisplay?L.claritybtndisplay:"enable",C=L.timedisplay?L.timedisplay:"enable",D=L.controlbardisplay?L.controlbardisplay:"enable",E=L.topbardisplay?L.topbardisplay:"enable",F=L.bigplaybtndisplay?L.bigplaybtndisplay:"enable",l=L.draggable?L.draggable:"true",d=this.programId?this.programId:"",I="string"==typeof L.customdatas?L.customdatas?JSON.parse(decodeURIComponent(L.customdatas)):"":L.customdatas?L.customdatas:"",G="true"==L.playsinline?!0:"false"==L.playsinline?!1:L.playsinline,"false"==L.autostart?L.autostart=!1:"true"==L.autostart&&(L.autostart=!0),this.server==a.GlobalConstant.VOD){if(c=L.autostart?L.autostart:!1,g=L.buffer?L.buffer:2,w=L.starttime?L.starttime:0,this.playerType==a.GlobalConstant.HTML5)A="http://"+this.porthost+"/api/player/",u="string"==typeof L.videosjsonurl?L.videosjsonurl?JSON.parse(decodeURIComponent(L.videosjsonurl)):"":L.videosjsonurl?L.videosjsonurl:"",H="string"==typeof L.fallbackurls?L.fallbackurls?JSON.parse(decodeURIComponent(L.fallbackurls)):"":L.fallbackurls?L.fallbackurls:"",v=L.videourl?decodeURIComponent(L.videourl):"",o=L.playername?decodeURIComponent(L.playername):a.GlobalConstant.PLAYER_NAME,p=L.copyright?decodeURIComponent(L.copyright):a.GlobalConstant.PLAYER_COPYRIGHT,q=L.playerversion?decodeURIComponent(L.playerversion):a.GlobalConstant.PLAYER_VERSION,r=L.builddate?decodeURIComponent(L.builddate):a.GlobalConstant.BUILD_DATE;else if(this.playerType==a.GlobalConstant.FLASH){if(A="http://"+this.porthost+"/api/player/",u="string"==typeof L.videosjsonurl?L.videosjsonurl?L.videosjsonurl:"":L.videosjsonurl?encodeURIComponent(JSON.stringify(L.videosjsonurl,"","	")):"",v=L.encodeurl?L.videourl?encodeURIComponent(L.videourl):"":L.videourl?L.videourl:"",L.videourl&&!L.videourl.match(/(?:http|https|file):\/\//)){var M=window.location.href;v=M.slice(0,M.lastIndexOf("/")+1)+v}o=L.playername?L.playername:a.GlobalConstant.PLAYER_NAME,p=L.copyright?L.copyright:a.GlobalConstant.PLAYER_COPYRIGHT,q=L.playerversion?L.playerversion:a.GlobalConstant.PLAYER_VERSION,r=L.builddate?L.builddate:a.GlobalConstant.BUILD_DATE,J=this.swfPath?this.swfPath:""}}else this.server==a.GlobalConstant.LIVE&&(c=L.autostart?L.autostart:!0,g=L.buffer?L.buffer:.1,y=L.shifttime?L.shifttime:"",z=L.duration?L.duration:3600,this.playerType==a.GlobalConstant.HTML5?(A="http://"+this.porthost+"/api/player/",u="string"==typeof L.videosjsonurl?L.videosjsonurl?JSON.parse(decodeURIComponent(L.videosjsonurl)):"":L.videosjsonurl?L.videosjsonurl:"",x=L.streamurl?decodeURIComponent(L.streamurl):"",o=L.playername?decodeURIComponent(L.playername):a.GlobalConstant.PLAYER_NAME,p=L.copyright?decodeURIComponent(L.copyright):a.GlobalConstant.PLAYER_COPYRIGHT,q=L.playerversion?decodeURIComponent(L.playerversion):a.GlobalConstant.PLAYER_VERSION,r=L.builddate?decodeURIComponent(L.builddate):a.GlobalConstant.BUILD_DATE):this.playerType==a.GlobalConstant.FLASH&&(A="http://"+this.porthost+"/api/player/",u="string"==typeof L.videosjsonurl?L.videosjsonurl?L.videosjsonurl:"":L.videosjsonurl?encodeURIComponent(JSON.stringify(L.videosjsonurl,"","	")):"",x=L.encodeurl?L.streamurl?encodeURIComponent(L.streamurl):"":L.streamurl?L.streamurl:"",o=L.playername?L.playername:a.GlobalConstant.PLAYER_NAME,p=L.copyright?L.copyright:a.GlobalConstant.PLAYER_COPYRIGHT,q=L.playerversion?L.playerversion:a.GlobalConstant.PLAYER_VERSION,r=L.builddate?L.builddate:a.GlobalConstant.BUILD_DATE));return b={autoStart:c,programId:d,lang:e,logo:f,buffer:g,type:h,skin:i,skinClass:j,serverPath:A,server:this.server,fallbackUrls:H,title:k,draggable:l,published:m,videoUrl:v,startTime:w,poster:n,videosJsonUrl:u,playerName:o,copyright:p,playerVersion:q,buildDate:r,volume:s,key:t,swfPath:J,customDatas:I,clarityBtnDisplay:B,timeDisplay:C,controlBarDisplay:D,topBarDisplay:E,bigPlayBtnDisplay:F,protocal:this.protocal,playsinline:G,url:L.url},L.fragmentloadmaxretry&&(b.fragmentLoadMaxRetry=L.fragmentloadmaxretry),"undefined"!=typeof L.adsjsonstr&&(b.adsJSONStr=L.adsjsonstr),"undefined"!=typeof L.loadflashplugin&&(b.loadFlashPlugin=L.loadflashplugin),"undefined"!=typeof L.accelerate&&(b.accelerate=L.accelerate),"undefined"!=typeof L.seek&&(b.seek=L.seek),"undefined"!=typeof L.showerror&&(b.showError=L.showerror),"undefined"!=typeof L.autofullscreen&&(b.autoFullScreen=L.autofullscreen),"undefined"!=typeof this.hlsjs&&(b.hlsjs=this.hlsjs),"undefined"!=typeof y&&(b.shiftTime=y),"undefined"!=typeof x&&(b.streamUrl=x),"undefined"!=typeof z&&(b.duration=z),b}}(window.Sewise),function(){"use strict";var a="undefined"!=typeof module&&module.exports,b="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,c=function(){for(var a,b,c=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],d=0,e=c.length,f={};e>d;d++)if(a=c[d],a&&a[1]in document){for(d=0,b=a.length;b>d;d++)f[c[0][d]]=a[d];return f}return!1}(),d={request:function(a){var d=c.requestFullscreen;a=a||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?a[d]():a[d](b&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[c.exitFullscreen]()},toggle:function(a){this.isFullscreen?this.exit():this.request(a)},raw:c};return c?(Object.defineProperties(d,{isFullscreen:{get:function(){return!!document[c.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[c.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!document[c.fullscreenEnabled]}}}),void(a?module.exports=d:window.screenfull=d)):void(a?module.exports=!1:window.screenfull=!1)}(),function(a,b){a.ControlBar=function(c,d,f,g,h){function i(){xb=eb.width(),Cb=gb.width(),Z&&(qb=Z.height()),$&&(pb?(Ib=$.height(),Y.hide()):Ib=$.width()),Sb=a.Utils.browser.versions.mobile,S.hide(),V.hide(),X.hide(),jb.hide(),a.Utils.browser.versions.mobile&&Y&&Y.hide(),M=setTimeout(p,Gb),h.parameObj.skinType&&h.parameObj.skinType===a.GlobalConstant.SKIN_TYPE_TANGERINE&&(Vb=!0),Wb=ab.css("left")}function j(){L&&(Sb?Eb?p():q():Fb?L.pause():L.play())}function k(){"normal"==sb?rb.fullScreen():rb.noramlScreen()}function l(){var a=window.Sewise.Utils.browser.ieVersionNumber;return a>0&&10>=a?!0:0===a&&"ActiveXObject"in window?!0:!1}function m(){Eb===!1&&(q(),M=setTimeout(p,Gb))}function n(){0!==M&&(clearTimeout(M),M=0)}function o(){0===M&&(M=setTimeout(p,Gb))}function p(){(!L||L.isVideo)&&(nb&&nb.hide(),E(),f.hide(),Eb=!1,L&&L.changeControlBarShowState(!1))}function q(){nb&&Ub&&nb.show(),F(),f.show(),Eb=!0,L&&L.changeControlBarShowState(!0)}function r(d){c.$overtime.css("left",d.pageX-c.$overtime.width()/2),c.$overline.css("left",d.pageX-parseInt(b("body").css("margin-left")));var e=d.target.getBoundingClientRect().left,f=d.pageX-e,g=gb.width(),h=parseInt(f/g*tb);c.$overtimeText.text(a.SkinUtils.stringer.secondsToMS(h))}function s(a){if(document.selection&&document.selection.empty(),window.getSelection&&window.getSelection().removeAllRanges(),!(N&&db.width()>fb.width())){var b=Bb+(a.pageX-zb);b>0&&Cb>b&&(db.css("width",b),eb.css("left",b-xb/2))}}function t(a){O.unbind("mousemove",s),b(document).unbind("mouseup",t),Ab=a.pageX,zb!=Ab&&(Bb=db.width(),Db=Bb/Cb,N?x(Db):L.seek(Db*tb)),yb=!1}function u(a){if(!L.isLockScreen){e=a.originalEvent,eb.blur();var b=e.targetTouches[0];yb=!0,zb=b.pageX,Bb=db.width(),Cb=gb.width(),eb.bind("touchmove",v),eb.bind("touchend",w)}}function v(a){if(!(N&&db.width()>fb.width())&&(e=a.originalEvent,1==e.targetTouches.length)){e.preventDefault();var b=e.targetTouches[0],c=Bb+(b.pageX-zb);c>0&&Cb>c&&(db.css("width",c),eb.css("left",c-xb/2))}}function w(a){if(e=a.originalEvent,eb.unbind("touchmove",v),eb.unbind("touchend",w),1==e.changedTouches.length){var b=e.changedTouches[0];Ab=b.pageX,zb!=Ab&&(Bb=db.width(),Db=Bb/Cb,N?x(Db):L.seek(Db*tb))}yb=!1}function x(b){var c=L.playTime();if(c){var d=new Date(3600*Math.floor(c.getTime()/1e3/3600)*1e3+b*tb*1e3),e=a.SkinUtils.stringer.dateToTimeStr14(d);L.seek(e)}}function y(){Kb>0?(L&&L.muted(!1),W.show(),X.hide()):(L&&L.muted(!0),W.hide(),X.show())}function z(a){document.selection&&document.selection.empty(),window.getSelection&&window.getSelection().removeAllRanges();var b;if(pb){b=Jb-(a.pageY-Mb);var c=qb-b;b>0&&Ib>b&&(Z.css("height",b),_.css("top",c-Hb/2))}else b=Jb+(a.pageX-Mb),b>0&&Ib>b&&(Z.css("width",b),_.css("left",b-Hb/2))}function A(a){O.unbind("mousemove",z),b(document).unbind("mouseup",A),Nb=pb?a.pageX:a.pageY,Mb!=Nb&&(Jb=pb?Z.height():Z.width(),Kb=Jb/Ib,L.setVolume(Kb),y()),Lb=!1}function B(a){e=a.originalEvent,_.blur();var b=e.targetTouches[0];Lb=!0,Mb=b.pageX,Jb=pb?Z.height():Z.width(),Ib=pb?$.height():$.width(),_.bind("touchmove",C),_.bind("touchend",D)}function C(a){if(e=a.originalEvent,1==e.targetTouches.length){e.preventDefault();var b=e.targetTouches[0],c=Jb+(b.pageX-Mb);c>0&&Ib>c&&(Z.css("width",c),_.css("left",c-Hb/2))}}function D(a){if(e=a.originalEvent,_.unbind("touchmove",C),_.unbind("touchend",D),1==e.changedTouches.length){var b=e.changedTouches[0];Nb=b.pageX,Mb!=Nb&&(Jb=pb?Z.height():Z.width(),Kb=Jb/Ib,L.setVolume(Kb),y())}Lb=!1}function E(){Q.css("visibility","hidden")}function F(){Q.css("visibility","visible")}function G(){document.fullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement?d.fullScreen():(U.show(),V.hide(),d.normalScreen()),rb.timeUpdate(ub)}function H(){d&&d.resize(),rb.timeUpdate(ub)}function I(){d.fullScreen("not-support"),rb.timeUpdate(ub)}function J(e){P=c.$video,b(window).unbind("resize",H),e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():P&&P.webkitEnterFullscreen?Sb?(P.webkitEnterFullscreen(),U.hide(),V.show()):e.webkitRequestFullscreen?e.webkitRequestFullscreen():(P.webkitEnterFullscreen(),U.hide(),V.show()):e.webkitRequestFullscreen?(e.webkitRequestFullscreen(),a.SkinUtils.browser.isXiaoMiBrowser()?I():a.SkinUtils.browser.isHuaweiBrowser()&&I()):(d.fullScreen("not-support"),rb.timeUpdate(ub),b(window).bind("resize",I)),sb="full"}function K(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():P&&P.webkitExitFullScreen?Sb?(P.webkitExitFullScreen(),U.show(),V.hide()):document.webkitCancelFullScreen?document.webkitCancelFullScreen():(P.webkitExitFullScreen(),U.show(),V.hide()):document.webkitCancelFullScreen?(document.webkitCancelFullScreen(),G()):(d.normalScreen(),rb.timeUpdate(ub),b(window).unbind("resize",I)),sb="normal",b(window).bind("resize",H)}var L,M,N=h.server==a.GlobalConstant.LIVE?!0:!1,O=c.$container,P=c.$video,Q=c.$controlbar,R=c.$playBtn,S=c.$pauseBtn,T=c.$stopBtn,U=c.$fullscreenBtn,V=c.$normalscreenBtn,W=c.$soundopenBtn,X=c.$soundcloseBtn,Y=c.$volumeline,Z=c.$volumelineVolume,$=c.$volumelineDragger,_=c.$volumelinePoint,ab=c.$playtime,bb=c.$totaltime,cb=c.$shareBtn,db=c.$progressPlayedLine,eb=c.$progressPlayedPoint,fb=c.$progressLoadedLine,gb=c.$progressSeekLine,hb=c.$liveBtn,ib=c.$topbarClock,jb=c.$buffer,kb=c.$bufferTip,lb=c.$bufferText,mb=c.$bigPlayBtn,nb=c.$claritySwitchBtn,ob=c.$clarityBtnText,pb=!c.volumeline_hlayout,qb=0,rb=this,sb="normal",tb=.1,ub=0,vb="00:00:00",wb="00:00:00",xb=0,yb=!1,zb=0,Ab=0,Bb=0,Cb=0,Db=0,Eb=!0,Fb=!1,Gb=5e3,Hb=0,Ib=0,Jb=0,Kb=0,Lb=!1,Mb=0,Nb=0,Ob=!1,Pb=0,Qb=0,Rb=0,Sb=!1,Tb=!0,Ub=!0,Vb=!1,Wb=0;if(i(),this.setScreenEvent=function(){var a;L.isHtml5?(a=O,a.click(function(){L.isLockScreen||(a.mousemove(),j())}),a.dblclick(function(){L.isLockScreen||k()})):(a=L.sewiseVideo.videoObject,a.on("singleClick",function(){L.isLockScreen||j()}),a.on("doubleClick",function(){L.isLockScreen||k()}))},!Sb){O.bind({mousemove:m,touchmove:m}),Q.bind({mouseover:n,touchstart:n}),Q.bind({mouseout:o,touchend:o});var Xb=l();Xb&&(O.mouseenter(function(){Eb===!1&&(clearTimeout(M),q())}),O.mouseleave(function(){M=setTimeout(p,Gb)}))}Q.click(function(a){a.originalEvent.stopPropagation?a.originalEvent.stopPropagation():a.originalEvent.cancelBubble=!0}),R.click(function(){L.isLockScreen||L.play()}),S.click(function(){L.isLockScreen||L.pause()}),T.click(function(){L.isLockScreen||L.stop()}),hb&&hb.click(function(){L.isLockScreen||L.live()}),c.$nextBtn&&c.$nextBtn.click(function(){L.isLockScreen||L.nextVideo()}),mb.click(function(a){L.isLockScreen||(a.originalEvent.stopPropagation?a.originalEvent.stopPropagation():a.originalEvent.cancelBubble=!0,L.play())}),U.click(function(){L.isLockScreen||(h.parameObj.autofullscreen===!1?L.changeScreenBtnState(!0):rb.fullScreen())}),V.click(function(){L.isLockScreen||(h.parameObj.autofullscreen===!1?L.changeScreenBtnState(!1):rb.noramlScreen())}),W.click(function(){L.isLockScreen||L.muted(!0)}),X.click(function(){L.isLockScreen||L.muted(!1)}),pb&&Y&&(W.mouseenter(function(){Sb||Y.show()}),W.mouseleave(function(){Y.hide()}),Y.mouseenter(function(){Sb||Y.show()}),Y.mouseleave(function(){Y.hide()})),cb&&cb.click(function(){L&&L.shareVideo()}),nb&&(nb.click(function(a){L.isLockScreen||(a.originalEvent.stopPropagation?a.originalEvent.stopPropagation():a.originalEvent.cancelBubble=!0,g.toggle())}),Vb&&(nb.mouseenter(function(){g.show()}),nb.mouseleave(function(){g.hide()}),c.$clarityWindowContainer.mouseenter(function(){g.show()}),c.$clarityWindowContainer.mouseleave(function(){g.hide()}))),Vb&&(gb.mouseenter(function(){c.$overtime.show(),c.$overline.show(),gb.bind("mousemove",r)}),gb.mouseleave(function(){c.$overtime.hide(),c.$overline.hide(),gb.unbind("mousemove",r)
})),gb.mousedown(function(a){if(!L.isLockScreen&&"#"!==L.playVars.url){var b=a.target.getBoundingClientRect().left;if(Bb=a.pageX-b,Cb=gb.width(),Db=Bb/Cb,N)x(Db);else{var c=tb-Pb-Qb;L.seek(Db*c+Pb)}}}),eb.mousedown(function(a){L.isLockScreen||"#"!==L.playVars.url&&(this.blur(),yb=!0,zb=a.pageX,Bb=db.width(),Cb=gb.width(),O.bind("mousemove",s),b(document).bind("mouseup",t))}),eb.bind("touchstart",u),$&&$.mousedown(function(a){if(!L.isLockScreen){if(pb){var c=a.target.getBoundingClientRect().top,d=b(document).scrollTop(),e=a.pageY-c-d;Jb=qb-e,Ib=$.height(),Z.css("height",Jb),_.css("top",e-Hb/2)}else if(Vb){var f=a.target.getBoundingClientRect().left+b(document).scrollLeft();Jb=a.pageX-f,Ib=$.width(),Z.css("width",Jb)}else Jb=a.pageX-a.target.getBoundingClientRect().left-b(document).scrollLeft(),Ib=$.width(),Z.css("width",Jb),_.css("left",Jb-Hb/2);Kb=Jb/Ib,L.setVolume(Kb),y()}}),_&&_.mousedown(function(a){L.isLockScreen||(this.blur(),Lb=!0,pb?(Ib=$.height(),Jb=Z.height(),Mb=a.pageY):(Ib=$.width(),Jb=Z.width(),Mb=a.pageX),O.bind("mousemove",z),b(document).bind("mouseup",A))}),_&&_.bind("touchstart",B),document.addEventListener&&(document.addEventListener("fullscreenchange",G),document.addEventListener("MSFullscreenChange",G),document.addEventListener("mozfullscreenchange",G),document.addEventListener("webkitfullscreenchange",G)),b(window).bind("resize",H),this.setPlayer=function(a){L=a},this.started=function(){R.hide(),S.show(),mb.hide(),Fb=!0},this.paused=function(){R.show(),S.hide(),Tb&&mb.show(),Fb=!1},this.stopped=function(){R.show(),S.hide(),Tb&&mb.show(),jb.hide(),Fb=!1,rb.timeUpdate(tb)},this.setDuration=function(b){N?tb=b:(tb=1/0!=b?b:3600,Rb>0&&(Qb=tb-Rb),b>=0&&(bb?(wb=a.SkinUtils.stringer.secondsToMS(tb-Qb),bb.text(wb)):wb=a.SkinUtils.stringer.secondsToHMS(tb-Qb)))},this.timeUpdate=function(b){if(!L||L.sewisePlayer.timeupdateOpen){var d;if(N){var e=L.playTime();if(!e)return;if(!e.getTime)return;if(Ob||(wb=a.SkinUtils.stringer.dateToStrHMS(new Date(Math.ceil(e.getTime()/1e3/tb)*tb*1e3)),vb=a.SkinUtils.stringer.dateToStrHMS(new Date(Math.floor(e.getTime()/1e3/tb)*tb*1e3)),bb?(ab.text(vb),bb.text(wb)):ab.text(vb+"/"+wb)),yb)return;d=Math.floor(e.getTime()/1e3)%tb/tb;var f,g=L.liveTime(),h=Math.ceil(e.getTime()/1e3/3600),i=Math.floor(g.getTime()/1e3/3600);f=i>=h?1:Math.floor(g.getTime()/1e3)%tb/tb;var j=100*f+"%";fb.css("width",j)}else{if(L&&!L.isHtml5&&L.isSeeking)return;(void 0===b||1/0===b||0>b)&&(b=0),ub=b;var k=ub;if(k=0>k?0:k,0===k&&Pb&&Rb&&(k=Pb),bb?(vb=a.SkinUtils.stringer.secondsToMS(k),ab.text(vb)):(vb=a.SkinUtils.stringer.secondsToHMS(k),ab.text(vb+"/"+wb)),yb)return;d=(ub-Pb)/(tb-Pb-Qb)}Bb=100*d+"%",db.css("width",Bb);var l=db.width()-xb/2;if(eb.css("left",l),Vb){var m=db.width();m>ab.width()?ab.css("left",l+S.outerWidth(!0)+c.$nextBtn.outerWidth(!0)-ab.outerWidth(!0)):ab.css("left",Wb);var n=gb.width()-m;1.1*ab.width()>=n?bb.hide():bb.show()}}},this.setPlayTimeOffset=function(b,c){Pb=parseFloat(b),Qb=tb-parseFloat(c),Rb=parseFloat(c),bb?(wb=a.SkinUtils.stringer.secondsToMS(c),bb.text(wb)):wb=a.SkinUtils.stringer.secondsToHMS(c)},this.loadProgress=function(a){var b=100*a+"%";fb.css("width",b)},this.initVolume=function(a){if(Z){if(Kb=a,Jb=Ib*Kb,pb){var b=qb-Jb;Z.css("height",Jb),_.css("top",b-Hb/2)}else Z.css("width",Jb),_.css("left",Jb-Hb/2);y()}},this.muted=function(a){a?(W.hide(),X.show(),Z&&(pb?(Z.css("height",0),_.css("top",qb-Hb/2)):(Z.css("width",0),_.css("left",-Hb/2)))):(W.show(),X.hide(),Z&&(pb?(Z.css("height",Jb),_.css("top",qb-Jb-Hb/2)):(Z.css("width",Jb),_.css("left",Jb-Hb/2))))},this.hide2=function(){Q.hide()},this.hideTopbarClock=function(){ib.hide()},this.hideClarityBtn=function(){nb&&(nb.hide(),Ub=!1)},this.hideBigPlayBtn=function(){mb&&mb.hide(),Tb=!1},this.updateClarityBtnPosition=function(){nb&&(nb.css("top","0%"),nb.css("margin-top","-5px"))},this.updateClarityBtnText=function(a){ob&&ob.text(a)},this.fullScreen=function(){U.hide(),V.show(),J(O.get(0)),L&&L.changeFullScreen(!0)},this.noramlScreen=function(){U.show(),V.hide(),K(),L&&L.changeFullScreen(!1)},this.showBuffer=function(){jb.show()},this.hideBuffer=function(){jb.hide()},this.bufferProgress=function(a){lb.text(parseFloat(a)>0?parseInt(100*a)+"%":"...")},this.initLanguage=function(){var b=a.SkinUtils.language.getString("loading");kb.text(b)},this.refreshTimes=function(b,c){Ob=!0,ab.text(b+"/"+c);var d=a.SkinUtils.stringer.hmsToSeconds(c),e=a.SkinUtils.stringer.hmsToSeconds(b);tb=d>e?d-e:a.SkinUtils.stringer.hmsToSeconds("24:00:00")-e+d},this.getProgressSeekline=function(){return gb.get(0)},this.forceRefreshSize=function(){H()},this.reset=function(){Pb=0,Qb=0}}}(window.Sewise,window.jQuery),function(a,b){a.ElementLayout=function(c,d){function e(){0>t&&(t+=k.width(),k.hide()),j.css("width",t)}function f(){var b=0;return b=c.progressBarIsUp?0:g(a.Utils.browser.versions.mobile)}function g(b){var e=0;return e+=c.$playBtn.outerWidth(!0),d!=a.GlobalConstant.SKIN_TYPE_TANGERINE&&(e+=c.$playtime.outerWidth(!0)),e+=c.$fullscreenBtn.outerWidth(!0),e+=parseInt(c.$controlbarBtns.css("margin-left")),c.$soundopenBtn&&c.$soundopenBtn.length&&(e+=c.$soundopenBtn.outerWidth(!0)),c.$stopBtn&&c.$stopBtn.length&&(e+=c.$stopBtn.outerWidth(!0)),c.$liveBtn&&c.$liveBtn.length&&(e+=c.$liveBtn.outerWidth(!0)),c.$volumeline&&!b&&c.$volumeline.length&&c.volumeline_hlayout&&(e+=c.$volumeline.outerWidth(!0)),c.$totaltime&&c.$totaltime.length&&d!=a.GlobalConstant.SKIN_TYPE_TANGERINE&&(e+=c.$totaltime.outerWidth(!0)),d&&d===a.GlobalConstant.SKIN_TYPE_TANGERINE&&(e+=c.$claritySwitchBtn.outerWidth(!0),e+=c.$nextBtn.outerWidth(!0)),e}var h,i=c.$container,j=c.$controlBarProgress,k=c.$playtime,l=c.defStageWidth,m=c.defStageHeight,n=c.defLeftValue,o=c.defTopValue,p=c.defOffsetX,q=c.defOffsetY,r=c.defOverflow,s=f(),t=parseInt(l)-s;e(),this.fullScreen=function(a){if("not-support"==a){b("body").css("overflow","hidden");var c=b(window).width(),d=b(window).height();i.css("width",c),i.css("height",d);var e=i.find("iframe"),g=e.length;if(g>0)for(var l,m=0;g>m;m++)l=e[m],b(l).height(d),b(l).trigger("sewiseIframeResize");if(h&&!h.globalParam.calculateOffTop);else{var r=b(document).scrollLeft(),t=b(document).scrollTop(),u=(parseInt(b("body").css("margin-left")),parseInt(b("body").css("margin-top"))),v=n-p+r+"px",w=o-q+t-u+"px";i.css("left",v),i.css("top",w)}}else i.css("width","100%"),i.css("height","100%");b("body").addClass("sewiseFullScreen"),s=f();var x=parseInt(b(window).width())-s;0>x?(x+=k.width(),k.hide()):k.show(),j.css("width",x)},this.normalScreen=function(){i.css("width","100%"),i.css("height","100%"),i.css("left",n),i.css("top",o);var a=i.find("iframe"),c=a.length;if(c>0)for(var d,e=0;c>e;e++)d=a[e],b(d).css("height","100%"),b(d).trigger("sewiseIframeResize");b("body").removeClass("sewiseFullScreen"),b("body").css("overflow",r),l=i.width(),s=f(),t=parseInt(l)-s,0>t?(t+=k.width(),k.hide()):k.show(),j.css("width",t)},this.resize=function(){l=i.width(),m=i.height(),s=f(),t=parseInt(l)-s,0>t?(t+=k.width(),k.hide()):k.show(),j.css("width",t)},this.setPlayer=function(a){h=a}}}(window.Sewise,window.jQuery),function(a,b){a.ElementObject=function(a,c){var d="#"+a+" ."+c+" .sewise-player-ui";this.$sewisePlayerUi=b(d),this.$container=this.$sewisePlayerUi.parent().parent(),this.$video=null,this.$controlbar=this.$sewisePlayerUi.find(".controlbar"),this.$controlbarBtns=this.$sewisePlayerUi.find(".controlbar-btns"),this.$playBtn=this.$sewisePlayerUi.find(".controlbar-btns-play"),this.$pauseBtn=this.$sewisePlayerUi.find(".controlbar-btns-pause"),this.$stopBtn=this.$sewisePlayerUi.find(".controlbar-btns-stop"),this.$fullscreenBtn=this.$sewisePlayerUi.find(".controlbar-btns-fullscreen"),this.$normalscreenBtn=this.$sewisePlayerUi.find(".controlbar-btns-normalscreen"),this.$soundopenBtn=this.$sewisePlayerUi.find(".controlbar-btns-soundopen"),this.$soundcloseBtn=this.$sewisePlayerUi.find(".controlbar-btns-soundclose"),this.$shareBtn=this.$sewisePlayerUi.find(".controlbar-btns-share").length>0?this.$sewisePlayerUi.find(".controlbar-btns-share"):null,this.$liveBtn=this.$sewisePlayerUi.find(".controlbar-btns-live").length>0?this.$sewisePlayerUi.find(".controlbar-btns-live"):null,this.$sewisePlayerUi.find(".controlbar-volumeline-volume").get(0)?(this.$volumeline=this.$sewisePlayerUi.find(".controlbar-volumeline"),this.$volumelineVolume=this.$sewisePlayerUi.find(".controlbar-volumeline-volume"),this.$volumelineDragger=this.$sewisePlayerUi.find(".controlbar-volumeline-dragger"),this.$volumelinePoint=this.$sewisePlayerUi.find(".controlbar-volumeline-point"),this.volumeline_hlayout=this.$controlbarBtns.find(".controlbar-volumeline").length>0?!0:!1):(this.$volumeline=null,this.$volumelineVolume=null,this.$volumelineDragger=null,this.$volumelinePoint=null),this.$playtime=this.$sewisePlayerUi.find(".controlbar-playtime"),this.$totaltime=this.$sewisePlayerUi.find(".controlbar-totaltime").get(0)?this.$sewisePlayerUi.find(".controlbar-totaltime"):null,this.$sewisePlayerUi.find(".controlbar-overtime").get(0)?(this.$overtime=this.$sewisePlayerUi.find(".controlbar-overtime"),this.$overtimeText=this.$sewisePlayerUi.find(".controlbar-overtime-text"),this.$overline=this.$sewisePlayerUi.find(".controlbar-overline"),this.$nextBtn=this.$sewisePlayerUi.find(".controlbar-btns-next")):(this.$overtime=null,this.$overline=null,this.$nextBtn=null),this.$clarityWindowContainer=this.$sewisePlayerUi.find(".controlbar-clarity-window").get(0)?this.$sewisePlayerUi.find(".controlbar-clarity-window"):null,this.$controlBarProgress=this.$sewisePlayerUi.find(".controlbar-progress"),this.$progressPlayedLine=this.$sewisePlayerUi.find(".controlbar-progress-playedline"),this.$progressPlayedPoint=this.$sewisePlayerUi.find(".controlbar-progress-playpoint"),this.$progressLoadedLine=this.$sewisePlayerUi.find(".controlbar-progress-loadedline"),this.$progressSeekLine=this.$sewisePlayerUi.find(".controlbar-progress-seekline"),this.$logo=this.$sewisePlayerUi.find(".logo"),this.$logoIcon=this.$sewisePlayerUi.find(".logo-icon"),this.$topbar=this.$sewisePlayerUi.find(".topbar"),this.$programTip=this.$sewisePlayerUi.find(".topbar-program-tip"),this.$programTitle=this.$sewisePlayerUi.find(".topbar-program-title"),this.$topbarClock=this.$sewisePlayerUi.find(".topbar-clock"),this.$buffer=this.$sewisePlayerUi.find(".buffer"),this.$bufferTip=this.$sewisePlayerUi.find(".buffer-text-tip"),this.$bufferText=this.$sewisePlayerUi.find(".buffer-text-bufferPt"),this.$bigPlayBtn=this.$sewisePlayerUi.find(".big-play-btn"),this.$sewisePlayerUi.find(".clarity-switch-btn").get(0)?(this.$claritySwitchBtn=this.$sewisePlayerUi.find(".clarity-switch-btn"),this.$clarityBtnText=this.$sewisePlayerUi.find(".clarity-btn-text")):(this.$claritySwitchBtn=null,this.$clarityBtnText=null),this.progressBarIsUp=this.$controlbarBtns.find(".controlbar-progress").length>0?!1:!0,this.defStageWidth=this.$container.width(),this.defStageHeight=this.$container.height(),this.defLeftValue=parseInt(this.$container.css("left")),this.defTopValue=parseInt(this.$container.css("top")),this.defOffsetX=this.$container.get(0).getBoundingClientRect().left,this.defOffsetY=this.$container.get(0).getBoundingClientRect().top,this.defOverflow=b("body").css("overflow"),this.getMedia=function(){this.$video=this.$container.find("video").length>0?this.$container.find("video").get(0):this.$container.find("audio").get(0)}}}(window.Sewise,window.jQuery),function(a){a.LogoBox=function(a){var b=a.$logoIcon;b.click(function(a){a.originalEvent.stopPropagation()});var c="http://www.sewise.com/";this.setLogo=function(a){b.css("background","url("+a+") 0px 0px no-repeat"),b.attr("href",c)},this.setLink=function(a){c=a,b.attr("href",c)}}}(window.Sewise,window.jQuery),function(a,b){var c=a.PlayerSkinLoader=function(c,d){function e(){l||(l=!0,g())}function f(){alert("skinLoadedError")}function g(){var d=document.getElementsByTagName("body")[0],e=document.createElement("iframe");e.style.display="none",e.src=j,e.onload=e.onreadystatechange=function(){if(null!==e){var d;d=e.contentWindow.document.getElementsByClassName?e.contentWindow.document.getElementsByClassName("sewise-player-ui")[0]:h("sewise-player-ui",e.contentWindow.document)[0];var f=document.createElement("div");c.append(f),f.outerHTML=d.outerHTML,b(e).remove(),e=null,k.fireEvent(a.SewisePlayerEvent.PLAYER_SKIN_LOADED)}},d.appendChild(e)}function h(a,b){for(var c=b.getElementsByTagName("*"),d=c.length,e=[],f=0;d>f;f++){var g=c[f].className||"";if(!(g.indexOf(a)<0)){g=g.split(/\s+/);for(var h=g.length,i=0;h>i;i++)if(a==g[i]){e.push(c[f]);break}}}return e}var i=d.skinCssPath,j=d.skinHtmlPath,k=(d.skinHtmlJsPath,this),l=!1;this.load=function(b){c.addClass(b),a.Utils.loader.loadCssFile(i,e,f)}};b.extend(c.prototype,a.Event)}(window.Sewise,window.jQuery),function(a,b){a.ClarityWindow=function(c,d){function e(a){j=a,k=j.length;for(var d=0;k>d;d++){var e;j[d].selected?(e=' checked = "checked" ',o=d,h.updateClarityBtnText(j[d].name)):e=" ",m+='<input  type="radio" name="radio_clarity"'+e+'"value="'+j[d].name+'">'+j[d].name+"\n"}var f=c.$clarityWindowContainer.find(".clarity-radios-group");f.empty(),f.html(m),c.$clarityWindowContainer.click(function(a){a.originalEvent.stopPropagation?a.originalEvent.stopPropagation():a.originalEvent.cancelBubble=!0}),c.$clarityWindowContainer.find(".clarity-box").click(function(a){a.originalEvent.stopPropagation?a.originalEvent.stopPropagation():a.originalEvent.cancelBubble=!0}),c.$clarityWindowContainer.find("[name = confirm_clarity]").click(function(a){a.originalEvent.stopPropagation?a.originalEvent.stopPropagation():a.originalEvent.cancelBubble=!0,c.$clarityWindowContainer.hide(),o!=p&&(o=p,h.updateClarityBtnText(j[o].name),g.changeClarity({name:j[o].name,videoUrl:j[o].videoUrl,id:j[o].id,selected:!0}))}),c.$clarityWindowContainer.find("[name = cancel_clarity]").click(function(a){a.originalEvent.stopPropagation?a.originalEvent.stopPropagation():a.originalEvent.cancelBubble=!0,c.$clarityWindowContainer.hide(),p=o}),c.$clarityWindowContainer.find("[name = radio_clarity]").click(function(a){a.originalEvent.stopPropagation?a.originalEvent.stopPropagation():a.originalEvent.cancelBubble=!0,p=b(a.target).index()})}function f(a){var d="";j=a,k=j.length;for(var e=0;k>e;e++)j[e].selected&&(o=e,h.updateClarityBtnText(j[e].name)),d+="<li name='"+e+"'>"+j[e].name+"</li>";i&&i.remove(),c.$clarityWindowContainer.height(k/3*q),i=b("<ul></ul>"),i.html(d),i.appendTo(c.$clarityWindowContainer),i.find("li").click(function(a){a.originalEvent.stopPropagation?a.originalEvent.stopPropagation():a.originalEvent.cancelBubble=!0;var b=parseInt(a.target.attributes.name.value);b!=o&&(o=b,h.updateClarityBtnText(j[b].name),g.changeClarity({name:j[o].name,videoUrl:j[o].videoUrl,id:j[o].id,selected:!0}))})}var g,h,i,j,k,l=(c.$container,d===a.GlobalConstant.SKIN_TYPE_TANGERINE?!0:!1),m="",n="",o=0,p=0,q=0;this.setPlayer=function(a){g=a},this.setControlBar=function(a){h=a},this.initialClarities=function(a){m="",n="",o=0,p=0,l?(q=c.$clarityWindowContainer.height(),f(a)):e(a)},this.toggle=function(){l||(c.$clarityWindowContainer.toggle(),c.$clarityWindowContainer.find("[name = radio_clarity]").get(o).checked=!0,p=o)},this.show=function(){if(c.$clarityWindowContainer){if(l&&1>=k)return;c.$clarityWindowContainer.show()}},this.hide=function(){c.$clarityWindowContainer&&c.$clarityWindowContainer.hide()}}}(window.Sewise,window.jQuery),function(a){a.SkinController=function(b,c,d){this.globalParam=d;var e,f=d.server==a.GlobalConstant.LIVE?!0:!1,g=new a.ElementObject(b,c),h=new a.ElementLayout(g,d.parameObj.skinType),i=new a.LogoBox(g),j=new a.TopBar(g,d.server),k=null;g.$claritySwitchBtn&&(k=new a.ClarityWindow(g,d.parameObj.skinType));var l=new a.ControlBar(g,h,j,k,d);this.getMedia=function(){g.getMedia(),g.$video&&$(g.$video).css("pointer-events","none")},this.player=function(a){e=a,l.setPlayer(e),h.setPlayer(e),k&&k.setPlayer(e)},this.started=function(){l.hideBuffer(),l.started()},this.paused=function(){l.paused()},this.stopped=function(){l.stopped()},this.duration=function(a){l.setDuration(a)},this.timeUpdate=function(a){l.timeUpdate(a),f&&j.setLiveClock(e.playTime())},this.setPlayTimeOffset=function(a,b){l.setPlayTimeOffset(a,b)},this.bufferProgress=function(a){l.bufferProgress(a)},this.loadedProgress=function(a){l.loadProgress(a)},this.loadedOpen=function(){l.showBuffer()},this.loadedComplete=function(){l.hideBuffer()},this.programTitle=function(a){j.setTitle(a)},this.logo=function(a){i.setLogo(a)},this.title=function(a){j.setTitle(a)},this.volume=function(a){l.initVolume(a)},this.muted=function(a){l.muted(a)},this.initialClarity=function(a){k&&(k.setControlBar(l),k.initialClarities(a))},this.clarityBtnDisplay=function(a){"enable"!=a&&l.hideClarityBtn()},this.timeDisplay=function(a){"enable"!=a&&l.hideTopbarClock()},this.controlBarDisplay=function(a){"enable"!=a&&l.hide2()},this.topBarDisplay=function(a){"enable"!=a&&(j.hide2(),l.updateClarityBtnPosition())},this.bigPlayBtnDisplay=function(a){"enable"!=a&&l.hideBigPlayBtn()},this.customDatas=function(a){a&&a.logoLink&&i.setLink(a.logoLink)},this.fullScreen=function(){l.fullScreen()},this.normalScreen=function(){l.noramlScreen()},this.lang=function(b){a.SkinUtils.language.init(b),l.initLanguage(),j.initLanguage()},this.refreshTimes=function(a,b){l.refreshTimes(a,b)},this.setScreenEvent=function(){l.setScreenEvent()},this.getProgressSeekline=function(){return l.getProgressSeekline()},this.forceRefreshSize=function(){l.forceRefreshSize()},this.getControlBar=function(){return l},this.reset=function(){l.reset()}}}(window.Sewise),function(a){a.TopBar=function(b){var c=b.$topbar,d=b.$programTip,e=b.$programTitle,f=(b.$topbarClock,a.SkinUtils.language.getString("titleTip"));d.text(f),this.setLiveClock=function(){},this.setTitle=function(a){e.text(a)},this.show=function(){c.css("visibility","visible")},this.hide=function(){c.css("visibility","hidden")},this.hide2=function(){c.hide()},this.initLanguage=function(){var b=a.SkinUtils.language.getString("titleTip");d.text(b)}}}(window.Sewise,window.jQuery),function(a,b){var c=a.Sewise.SewisePlayer=function(b){this.config=b,this.playerContainer=null,this.videoContainer=null,this.skinContainer=null,this.config=b,this.plugins=null,this.timeupdateOpen=!0,this.globalParams=new a.Sewise.GlobalParams(b),this.globalParams.init(),this.isLive=this.globalParams.server==a.Sewise.GlobalConstant.LIVE?!0:!1,this.playerID="SewisePlayer"+c.guid++;this.globalParams.playerType;this.playController=new a.Sewise.PlayController(this.globalParams,this.playerID,this)};c.fn=c.prototype,b.extend(c,{guid:0,supportHls:function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')}()}),b.extend(c.fn,a.Sewise.Event),c.fn.startup=function(){var d;if(this.config.elid){var e,f=typeof this.config.elid;"object"===f?d=b(this.config.elid):(e="#"+this.config.elid,d=b(e))}else{var g=this.config.scriptElement.parentNode;d=b(g)}d.append(c.template),this.playerContainer=d.find(".sewiseplayer-container"),this.videoContainer=d.find(".sewiseplayer-video"),this.skinContainer=d.find(".sewiseplayer-skin"),this.playerContainer.attr("id",this.playerID),a.Sewise.Utils.loader.loadCssFile(a.Sewise.localPath+"css/sewiseplayer.css"),this.playController.startup(this.videoContainer,this.skinContainer)},c.template='<div class="sewiseplayer-container"><div class="sewiseplayer-video"></div><div class="sewiseplayer-skin"></div></div>',c.fn.play=function(){this.playController.play()},c.fn.pause=function(){this.playController.pause()},c.fn.stop=function(){this.playController.stop()},c.fn.seek=function(a){this.playController.seek(a)},c.fn.setVolume=function(a){this.playController.setVolume(a)},c.fn.muted=function(a){this.playController.muted(a)},c.fn.playProgram=function(a,b,c,d){this.isLive?this.playController.playChannel(a,b,c,d):this.playController.playProgram(a,b,c,d)},c.fn.toPlay=function(a,b,c,d){this.isLive?this.playController.toLivePlay(a,b,c,d):this.playController.toPlay(a,b,c,d)},c.fn.toPlayComplexUrl=function(a,b,c,d,e){this.isLive?this.playController.toLivePlay(a,b,c,d):this.playController.toPlayComplexUrl(a,b,c,d,e)},c.fn.updateVideosjsonurl=function(a){this.isLive||this.playController.updateVideosjsonurl(a)},c.fn.duration=function(){return this.playController.duration()},c.fn.playTime=function(){return this.playController.playTime()},c.fn.getPlayerContainer=function(){return this.playerContainer.get(0)},c.fn.getVideoContainer=function(){return this.videoContainer.get(0)},c.fn.getSkinContainer=function(){return this.skinContainer.get(0)},c.fn.getVideo=function(){return this.playController.getMedia()},c.fn.getAudio=function(){return this.playController.getMedia()},c.fn.clearVideo=function(){this.playController.clearMedia()},c.fn.clearAudio=function(){this.playController.clearMedia()},c.fn.dispose=function(){this.playController.dispose()},c.fn.setPlaybackRate=function(a){this.playController.setPlaybackRate(a)},c.fn.getPlaybackRate=function(){return this.playController.getPlaybackRate()},c.fn.forceRefreshSkinSize=function(){this.playController.skinController.forceRefreshSize()},c.fn.setDuration=function(a){this.playController.setDuration(a)},c.fn.fullScreen=function(){this.playController.skinController.fullScreen()},c.fn.normalScreen=function(){this.playController.skinController.normalScreen()},c.fn.lockScreen=function(a){this.playController.lockScreen(a)},c.fn.getControlBar=function(){return this.playController.skinController.getControlBar()},c.fn.changeClarity=function(a){this.playController.changeClarity(a)},c.fn.setPlayTimeOffset=function(a,b){this.playController.skinController.setPlayTimeOffset(a,b)},c.fn.live=function(){this.playController.live()},c.fn.liveTime=function(){return this.playController.liveTime()};var d=["SewisePlayer.js","sewise.player.min.js"],e=a.Sewise.Utils.getParameters(d);if(!a.Sewise.Utils.object.isEmpty(e)&&a.Sewise.Utils.object.paramsLength(e)>1){var f=new a.Sewise.SewisePlayer(e);f.startup(),a.SewisePlayer=f}}(window,window.jQuery);